var _t=Object.defineProperty,pt=Object.defineProperties;var mt=Object.getOwnPropertyDescriptors;var Le=Object.getOwnPropertySymbols;var vt=Object.prototype.hasOwnProperty,gt=Object.prototype.propertyIsEnumerable;var be=(l,t,r)=>t in l?_t(l,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[t]=r,v=(l,t)=>{for(var r in t||(t={}))vt.call(t,r)&&be(l,r,t[r]);if(Le)for(var r of Le(t))gt.call(t,r)&&be(l,r,t[r]);return l},g=(l,t)=>pt(l,mt(t));var x=(l,t,r)=>(be(l,typeof t!="symbol"?t+"":t,r),r);import{m as ke,c as yt,u as bt,d as p,a as X,r as m,o as i,b as d,w as a,e as n,f as e,R as kt,N as Re,S as ce,g as de,h as O,i as z,z as $t,j as wt,k as xt,l as Nt,n as It,p as St,q as Ut,s as Ct,t as Mt,v as Tt,x as Lt,y as Rt,A as zt,B as Pt,C as Et,D as Ft,E as Y,F as ze,G as I,H as $e,I as se,J as W,K as b,L as Pe,M as V,O as Ee,P as Fe,Q as Ae,T as y,U as w,V as ee,W as fe,X as S,Y as he,Z as C,_ as te,$ as we,a0 as Z,a1 as De,a2 as Be,a3 as je,a4 as Oe,a5 as He,a6 as Ve,a7 as qe,a8 as Ge,a9 as At,aa as Je,ab as k,ac as q,ad as Dt,ae as M,af as G,ag as E,ah as U,ai as D,aj as ae,ak as K,al as We,am as Q,an as re,ao as Bt,ap as B,aq as jt,ar as Ot,as as Ze,at as Ke,au as xe,av as _e,aw as pe,ax as Ne,ay as me,az as Qe,aA as Ht,aB as Vt,aC as qt,aD as Xe,aE as Gt,aF as Jt,aG as j,aH as Wt,aI as Zt,aJ as Kt,aK as Qt,aL as Ie,aM as Xt,aN as Yt,aO as Ye,aP as et,aQ as ea,aR as ta,aS as Se,aT as aa,aU as Ue,aV as la,aW as na,aX as sa,aY as ra,aZ as oa,a_ as ua,a$ as ia,b0 as ca,b1 as tt,b2 as at,b3 as da,b4 as fa,b5 as ha,b6 as lt,b7 as _a,b8 as pa,b9 as ma}from"./vendor.e1ccffe2.js";const va=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerpolicy&&(u.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?u.credentials="include":o.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}};va();function Ce(l){return(l==null?void 0:l.startsWith("./"))||(l==null?void 0:l.startsWith("../"))||l=="."||l==".."}function nt(l){const t=(l.match(/[\u4E00-\u9FA5]/g)||[]).length,r=(l.replace(/[\u4E00-\u9FA5]/g,"").match(/[a-zA-Z0-9_\u0392-\u03c9\u0400-\u04FF]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af\u0400-\u04FF]+|[\u00E4\u00C4\u00E5\u00C5\u00F6\u00D6]+|\w+/g)||[]).length;return[t,r]}function ga(l,{cn:t=300,en:r=160}={}){var s=nt(l),o=s[0]/t+s[1]/r;return o}function ya(l){var t=nt(l),r=t[0]+t[1];return r}function ba(l){return l.replace(/\&\#[0-9]*;|&amp;/g,function(t){return t.match(/amp/)?"&":String.fromCharCode(parseInt(t.match(/[0-9]+/)[0]))})}var J=new ke.Renderer;J.link=function(l,t,r){return r};J.paragraph=function(l){return ba(l)+`\r
`};J.heading=function(l,t){return t+") "+l};J.blockquote=function(l){return l};J.codespan=function(l){return l};J.list=function(l,t,r){return l};J.image=function(l,t,r){return""};J.code=function(l,t,r){return""};function st(l){return l}class ka{constructor(t){x(this,"baseUrl");this.baseUrl=t}async all(){return await(await fetch(`${this.baseUrl}/index.json`)).json()}async get(t){let s=await(await fetch(`${this.baseUrl}/${t}/index.json`)).json();return g(v({},s),{metadata:g(v({},s.metadata),{creation:new Date(s.metadata.creation.toString()),modification:new Date(s.metadata.modification.toString())}),dataUrl:this.resolveRelativeUrl(t)})}notes(t){return new $a(`${this.baseUrl}/${t}/notes`,this.resolveRelativeUrl(t,"./notes"))}async update(t){let r=g(v({},t),{metadata:g(v({},t.metadata),{creation:t.metadata.creation.toISOString(),modification:t.metadata.modification.toISOString()})});await fetch(`${this.baseUrl}/`,{body:JSON.stringify(r),method:"POST",headers:{"Content-Type":"application/json"}})}async delete(t){await fetch(`${this.baseUrl}/${t}`,{method:"DELETE"})}resolveRelativeUrl(t,r="."){return Ce(r)?`${this.baseUrl}/${t}/${r}`:r}}class $a{constructor(t,r){x(this,"baseUrl");x(this,"dataUrl");this.baseUrl=t,this.dataUrl=r}async all(){return await(await fetch(`${this.baseUrl}/index.json`)).json()}async get(t){let s=await(await fetch(`${this.baseUrl}/${t}/index.json`)).json();return g(v({},s),{metadata:g(v({},s.metadata),{creation:new Date(s.metadata.creation.toString()),modification:new Date(s.metadata.modification.toString())}),dataUrl:this.dataUrl})}async update(t){let r=g(v({},t),{metadata:g(v({},t.metadata),{creation:t.metadata.creation.toISOString(),modification:t.metadata.modification.toISOString()})});await fetch(`${this.baseUrl}/`,{body:JSON.stringify(r),method:"POST",headers:{"Content-Type":"application/json"}})}async delete(t){await fetch(`${this.baseUrl}/${t}/`,{method:"DELETE"})}}class rt{constructor(t){x(this,"baseUrl");x(this,"materials");this.baseUrl=t,this.materials=new ka(`${this.baseUrl}/materials`)}async metadata(){return await(await fetch(`${this.baseUrl}/index.json`)).json()}async title(){let t=(await this.metadata()).site.title;return t==""?"Paperead":t}}const ot=Symbol(),wa="/api",xa=yt({state(){return{api:new rt(wa),readerMode:!1}},mutations:{setApiUrl(l,t){l.api=new rt(t)},setReaderMode(l,t){l.readerMode=t}}});function T(){return bt(ot)}const Na=p({setup(l){return X(),m("home"),(t,r)=>(i(),d(ce,null,{default:a(()=>[n(e(kt))]),fallback:a(()=>[n(e(Re),{size:80,id:"loading-spin",style:{width:"100%"}})]),_:1}))}});var H=(l,t)=>{for(const[r,s]of t)l[r]=s;return l};const Ia=p({setup(l){de();const t=T(),r=O(),s="#f9f5e9FF",o={common:{baseColor:s,popoverColor:s,tableColor:s,cardColor:s,modalColor:s,bodyColor:s,tagColor:s,inputColor:s,codeColor:s,tabColor:s,actionColor:s,tableHeaderColor:s,hoverColor:s,inputColorDisabled:s}},u=z(()=>t.state.readerMode&&r.value!="dark"),c=z(()=>{let f=navigator.language;return f.indexOf("zh")!=-1?{lang:$t,date:wt}:f.indexOf("ru")!=-1?{lang:xt,date:Nt}:f.indexOf("uk")!=-1?{lang:It,date:St}:f.indexOf("ja")!=-1?{lang:Ut,date:Ct}:f.indexOf("id")!=-1?{lang:Mt,date:Tt}:{lang:Lt,date:Rt}});return(f,h)=>(i(),d(e(Pt),{style:{height:"100%"},theme:e(r)=="dark"?e(zt):null,"theme-overrides":e(u)?o:{},locale:e(c).lang,"date-locale":e(c).date},{default:a(()=>[n(e(Ft),null,{default:a(()=>[n(e(Et)),(i(),d(ce,null,{default:a(()=>[n(Na)]),fallback:a(()=>[n(e(Re),{size:80,id:"loading-spin"})]),_:1}))]),_:1})]),_:1},8,["theme","theme-overrides","locale","date-locale"]))}});var Sa=H(Ia,[["__scopeId","data-v-41fa4579"]]);const Ua=p({props:{scroll:null},setup(l){const t=l,r=z(()=>{var s;return(s=t.scroll)!=null?s:!1});return(s,o)=>e(r)?(i(),d(e(se),{key:0,style:{height:"100%"},"native-scrollbar":!1},{default:a(()=>[n(e(ze),{bordered:"",class:"page-header"},{default:a(()=>[Y(s.$slots,"header",{},void 0,!0)]),_:3}),n(e(I),null,{default:a(()=>[Y(s.$slots,"default",{},void 0,!0)]),_:3}),n(e($e),{right:100})]),_:3})):(i(),d(e(se),{key:1,style:{height:"100%"}},{default:a(()=>[n(e(ze),{bordered:"",class:"page-header"},{default:a(()=>[Y(s.$slots,"header",{},void 0,!0)]),_:3}),n(e(I),{class:"page-content-scroll","content-style":"height: 100%;","native-scrollbar":!1},{default:a(()=>[Y(s.$slots,"default",{},void 0,!0)]),_:3})]),_:3}))}});var Me=H(Ua,[["__scopeId","data-v-cef6b4f8"]]);const Ca=y("a",{href:"https://www.stardustdl.top/",style:{"text-decoration":"none",color:"inherit"}},"StardustDL",-1),Ma=y("a",{href:"https://github.com/StardustDL/paperead/blob/master/LICENSE",style:{"text-decoration":"none",color:"inherit"}},"MPL-2.0",-1),Ta=y("a",{href:"https://github.com/StardustDL/paperead",style:{"text-decoration":"none",color:"inherit"}},"GitHub",-1),La=["href"];async function Ra(l){let t,r;const s=([t,r]=W(async()=>([t,r]=W(()=>fetch("/build.json")),t=await t,r(),t).json()),t=await t,r(),t);return(o,u)=>(i(),d(e(S),{size:"large"},{default:a(()=>[n(e(V),{label:"Author"},{prefix:a(()=>[n(e(b),null,{default:a(()=>[n(e(Pe))]),_:1})]),default:a(()=>[Ca]),_:1}),n(e(V),{label:"License"},{prefix:a(()=>[n(e(b),null,{default:a(()=>[n(e(Ee))]),_:1})]),default:a(()=>[Ma]),_:1}),n(e(V),{label:"Source Code"},{prefix:a(()=>[n(e(b),null,{default:a(()=>[n(e(Fe))]),_:1})]),default:a(()=>[Ta]),_:1}),n(e(V),{label:"Commit"},{prefix:a(()=>[n(e(b),null,{default:a(()=>[n(e(Ae))]),_:1})]),default:a(()=>[y("a",{href:`https://github.com/StardustDL/paperead/commit/${e(s).commit}`,style:{"text-decoration":"none",color:"inherit"}},w(e(s).shortCommit),9,La)]),_:1}),n(e(V),{label:"Build Date"},{prefix:a(()=>[n(e(b),null,{default:a(()=>[n(e(ee))]),_:1})]),default:a(()=>[n(e(fe),{time:new Date(e(s).date),type:"relative"},null,8,["time"])]),_:1})]),_:1}))}const za={components:{BrandGithub:Fe,At:Pe,License:Ee,GitCommit:Ae,Clock:ee}},Pa=p(g(v({},za),{setup:Ra}));async function Ea(l){let t,r;const s=T(),o=([t,r]=W(()=>s.state.api.title()),t=await t,r(),t);return(u,c)=>(i(),d(e(we),null,{default:a(()=>[n(e(te),{to:"/"},{default:a(()=>[n(e(b),null,{default:a(()=>[n(e(he))]),_:1}),C(" "+w(e(o)),1)]),_:1})]),_:1}))}const Fa={components:{HomeIcon:he}},Te=p(g(v({},Fa),{setup:Ea}));function Aa(l){return T(),Z(),(t,r)=>l.schema=="empty"?(i(),d(e(De),{key:0})):l.schema=="slides"?(i(),d(e(Be),{key:1})):l.schema=="video"?(i(),d(e(je),{key:2})):l.schema=="audio"?(i(),d(e(Oe),{key:3})):l.schema=="image"?(i(),d(e(He),{key:4})):l.schema=="link"?(i(),d(e(Ve),{key:5})):l.schema=="html"?(i(),d(e(qe),{key:6})):l.schema=="raw"?(i(),d(e(Ge),{key:7})):Y(t.$slots,"default",{key:8})}const Da={components:{Music:Oe,Video:je,File:De,Presentation:Be,Photo:He,Link:Ve,Browser:qe,Box:Ge}},ve=p(g(v({},Da),{props:{schema:null},setup:Aa})),Ba=y("span",null,"Creation:",-1),ja=C("\xA0 "),Oa=y("br",null,null,-1),Ha=y("span",null,"Modification:",-1),Va=C("\xA0 ");function qa(l){const t=l;return(r,s)=>(i(),d(e(At),null,{trigger:a(()=>[n(e(S),{size:"small"},{default:a(()=>[n(e(b),{size:"large"},{default:a(()=>[n(e(ee))]),_:1}),n(e(fe),{time:t.creation,type:"relative"},null,8,["time"])]),_:1})]),default:a(()=>[Ba,ja,n(e(fe),{time:t.creation},null,8,["time"]),Oa,Ha,Va,n(e(fe),{time:l.modification},null,8,["time"])]),_:1}))}const Ga={components:{Clock:ee}},Ja=p(g(v({},Ga),{props:{creation:null,modification:null},setup:qa}));function Wa(l){const t=l;return(r,s)=>(i(),d(e(S),{size:"small"},{default:a(()=>[n(e(b),{size:"large"},{default:a(()=>[n(e(Je))]),_:1}),(i(!0),k(M,null,q(t.tags,o=>(i(),d(e(Dt),{key:o,size:"small"},{default:a(()=>[C(w(o),1)]),_:2},1024))),128))]),_:1}))}const Za={components:{Tag:Je}},Ka=p(g(v({},Za),{props:{tags:null},setup:Wa}));function Qa(l){const t=l,r=z(()=>{let s=ya(t.content);return s<1e3?s.toString():`${Math.round(s/1e3)}k`});return(s,o)=>(i(),d(e(S),{size:"small"},{default:a(()=>[n(e(b),{size:"large"},{default:a(()=>[n(e(G))]),_:1}),y("span",null,w(e(r)),1)]),_:1}))}const Xa={components:{FileText:G}},Ya=p(g(v({},Xa),{props:{content:null},setup:Qa}));function el(l){const t=l,r=z(()=>{let s=ga(t.content);return s<=1?"1 minute":`${Math.round(s)} minutes`});return(s,o)=>(i(),d(e(S),{size:"small"},{default:a(()=>[n(e(b),{size:"large"},{default:a(()=>[n(e(ee))]),_:1}),y("span",null,w(e(r)),1)]),_:1}))}const tl={components:{Clock:ee}},al=p(g(v({},tl),{props:{content:null},setup:el})),ge=p({props:{data:null},setup(l){return(t,r)=>(i(),d(e(S),null,{default:a(()=>[n(Ja,{creation:l.data.metadata.creation,modification:l.data.metadata.modification},null,8,["creation","modification"]),l.data.metadata.tags.length>0?(i(),d(Ka,{key:0,tags:l.data.metadata.tags},null,8,["tags"])):E("",!0),n(Ya,{content:l.data.content},null,8,["content"]),n(al,{content:l.data.content},null,8,["content"])]),_:1}))}});const ll={key:0},nl={key:1};function sl(l){const t=l,r=T(),s=Z(),o=m();async function u(){o.value=void 0;try{o.value=await r.state.api.materials.get(t.id)}catch{o.value=void 0,s.error(`Failed to load meterial ${t.id}.`)}}return U(u),D(t,u),(c,f)=>(i(),d(e(re),{hoverable:""},{header:a(()=>[n(e(S),null,{default:a(()=>[n(e(ae),null,{default:a(()=>[n(e(b),null,{default:a(()=>[n(ve,{schema:o.value?o.value.metadata.schema:""},{default:a(()=>[n(e(K))]),_:1},8,["schema"])]),_:1})]),_:1}),n(e(te),{to:`/${l.id}`,style:{"vertical-align":"middle"}},{default:a(()=>[o.value?(i(),k("span",ll,w(o.value.metadata.name),1)):(i(),k("span",nl,w(l.id),1))]),_:1},8,["to"])]),_:1})]),action:a(()=>[o.value?(i(),d(ge,{key:0,data:o.value},null,8,["data"])):E("",!0)]),default:a(()=>[o.value?(i(),d(e(We),{key:0,tooltip:!1,"line-clamp":5},{default:a(()=>[C(w(e(st)(o.value.content)),1)]),_:1})):(i(),d(e(Q),{key:1,text:"",repeat:10}))]),_:1}))}const rl={components:{MaterialIcon:K}},ol=p(g(v({},rl),{props:{id:null},setup:sl}));var ul=H(ol,[["__scopeId","data-v-51148ec2"]]);const ut=p({props:{items:null},setup(l){const t=l,r=m([]),s=m(1),o=m(5);function u(){let c=(s.value-1)*o.value;r.value=t.items.slice(c,c+o.value)}return D(s,u),D(o,u),U(u),D(t,()=>s.value=1),(c,f)=>(i(),d(e(S),{vertical:""},{default:a(()=>[(i(!0),k(M,null,q(r.value,h=>(i(),d(ce,{key:h},{default:a(()=>[Y(c.$slots,"default",{item:h})]),fallback:a(()=>[n(e(Q),{text:"",repeat:2})]),_:2},1024))),128)),n(e(Bt),{style:{"justify-content":"center","margin-top":"20px"},"item-count":l.items.length,"page-size":o.value,"onUpdate:page-size":f[0]||(f[0]=h=>o.value=h),page:s.value,"onUpdate:page":f[1]||(f[1]=h=>s.value=h),"page-sizes":[5,10,20],"show-quick-jumper":"","show-size-picker":""},null,8,["item-count","page-size","page"])]),_:3}))}});const il=C("Home");function cl(l){return T(),(t,r)=>(i(),d(e(jt),{status:"404",title:"Not Found",description:`Path: ${l.path}`,style:{margin:"50px"}},{footer:a(()=>[n(e(B),null,{icon:a(()=>[n(e(b),null,{default:a(()=>[n(e(he))]),_:1})]),default:a(()=>[n(e(te),{to:"/"},{default:a(()=>[il]),_:1})]),_:1})]),_:1},8,["description"]))}const dl={components:{HomeIcon:he,AlertCircle:Ot}},fl=p(g(v({},dl),{props:{path:null},setup:cl}));var oe=H(fl,[["__scopeId","data-v-5f346418"]]);const hl=p({setup(l){const t=T(),r=Z(),s=X(),o=m(),u=m(!1);return U(async()=>{try{o.value=await t.state.api.materials.all()}catch{u.value=!0,r.error("Failed to load material list."),document.title=`Not Found - ${await t.state.api.title()}`}}),(c,f)=>u.value?(i(),d(oe,{key:0,path:e(s).currentRoute.value.fullPath},null,8,["path"])):o.value?(i(),d(ut,{key:1,items:o.value},{default:a(h=>[n(ul,{id:h.item},null,8,["id"])]),_:1},8,["items"])):(i(),d(e(Q),{key:2,text:"",repeat:20}))}});const _l={key:0},pl=C("Reading"),ml=C("\xA0and "),vl=C("Notes"),gl={key:1},yl=["href"],bl=["href"],kl=["href"];async function $l(l){let t,r;const s=T(),o=X(),u=O(),c=z(()=>s.state.readerMode&&u.value!="dark");function f(L=!0){s.commit("setReaderMode",L)}const h="0.2.5",_=([t,r]=W(()=>s.state.api.metadata()),t=await t,r(),t),$=_.site.subtitle!=""?_.site.subtitle:"\u9605\u8BFB\u4E0E\u7B14\u8BB0",N=_.site.description!=""?_.site.description:`Welcome to ${[t,r]=W(()=>s.state.api.title()),t=await t,r(),t}.`;return document.title=`Home - ${[t,r]=W(()=>s.state.api.title()),t=await t,r(),t}`,(L,R)=>(i(),d(Me,null,{header:a(()=>[n(e(Ne),{subtitle:e($),onBack:R[1]||(R[1]=()=>e(o).back())},{avatar:a(()=>[n(e(ae),null,{default:a(()=>[n(e(b),null,{default:a(()=>[n(e(Ze))]),_:1})]),_:1})]),title:a(()=>[e(_).site.title==""?(i(),k("span",_l,[n(e(Ke),{type:"info"},{default:a(()=>[pl]),_:1}),ml,n(e(Ke),{type:"success"},{default:a(()=>[vl]),_:1})])):(i(),k("span",gl,w(e(_).site.title),1))]),header:a(()=>[n(e(xe),null,{default:a(()=>[n(Te)]),_:1})]),extra:a(()=>[n(e(B),{size:"large",bordered:!1,title:"Reader mode",onClick:R[0]||(R[0]=()=>f(!e(c)))},{icon:a(()=>[n(e(b),null,{default:a(()=>[e(c)?(i(),d(e(_e),{key:0})):(i(),d(e(pe),{key:1}))]),_:1})]),_:1})]),footer:a(()=>[C(w(e(N)),1)]),_:1},8,["subtitle"])]),default:a(()=>[n(e(Qe),{type:"segment",style:{height:"100%"}},{default:a(()=>[n(e(me),{name:"info",tab:"Information",style:{height:"calc(100% - 52px)"}},{default:a(()=>[n(e(I),{"content-style":"padding: 10px;",style:{height:"100%"},"native-scrollbar":!1},{default:a(()=>[n(e(S),{vertical:"",size:"large"},{default:a(()=>[n(e(re),{title:"Server",hoverable:"",embedded:""},{default:a(()=>[n(e(S),{size:"large"},{default:a(()=>[n(e(V),{label:"Server Endpoint"},{default:a(()=>[y("a",{href:e(s).state.api.baseUrl},w(e(s).state.api.baseUrl),9,yl)]),_:1}),n(e(V),{label:"Server Version"},{default:a(()=>[y("a",{href:`https://github.com/StardustDL/paperead/releases/tag/v${e(_).version}`},w(e(_).version),9,bl)]),_:1}),n(e(V),{label:"Client Version"},{default:a(()=>[y("a",{href:`https://github.com/StardustDL/paperead/releases/tag/v${e(h)}`},w(e(h)),9,kl)]),_:1})]),_:1})]),_:1}),n(e(re),{title:"Paperead",hoverable:"",embedded:""},{default:a(()=>[(i(),d(ce,null,{default:a(()=>[n(Pa)]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}),n(e(me),{name:"materials",tab:"Materials",style:{height:"calc(100% - 52px)"}},{default:a(()=>[n(e(I),{"content-style":"padding: 10px;",style:{height:"100%"},"native-scrollbar":!1},{default:a(()=>[n(hl)]),_:1})]),_:1})]),_:1})]),_:1}))}const wl={components:{Notebook:Ze,MaterialsIcon:Ht,EnableReaderIcon:pe,DisableReaderIcon:_e}},xl=p(g(v({},wl),{setup:$l}));var Nl=H(xl,[["__scopeId","data-v-6301dc44"]]);const Il=p({async setup(l){let t,r;const s=T(),u=de().params;return document.title=`Not Found - ${[t,r]=W(()=>s.state.api.title()),t=await t,r(),t}`,(c,f)=>(i(),d(oe,{path:e(u).path.join("/")},null,8,["path"]))}}),Sl=y("thead",null,[y("tr",null,[y("th",null,"Key"),y("th",null,"Value")])],-1);function Ul(l){const t=l,r=z(()=>{let s=[];for(let o in t.data.metadata.targets){let u=t.data.metadata.targets[o],c=Ce(u)?`${t.data.dataUrl}/${u}`:u;s.push({label:()=>Vt("a",{target:"_blank",href:c},o),key:o})}return s});return(s,o)=>(i(),d(e(S),null,{default:a(()=>[Object.keys(l.data.metadata.extra).length>0?(i(),d(e(qt),{key:0,placement:"bottom-start",trigger:"hover"},{trigger:a(()=>[n(e(B),{bordered:!1,size:"large",title:"Extra"},{icon:a(()=>[n(e(b),null,{default:a(()=>[n(e(Xe))]),_:1})]),_:1})]),default:a(()=>[n(e(Gt),null,{default:a(()=>[Sl,y("tbody",null,[(i(!0),k(M,null,q(l.data.metadata.extra,(u,c)=>(i(),k("tr",{key:c},[y("td",null,w(c),1),y("td",null,w(u),1)]))),128))])]),_:1})]),_:1})):E("",!0),Object.keys(l.data.metadata.targets).length>0?(i(),d(e(Jt),{key:1,options:e(r),placement:"bottom-start"},{default:a(()=>[n(e(B),{bordered:!1,size:"large",title:"Targets"},{icon:a(()=>[n(e(b),null,{default:a(()=>[n(e(j))]),_:1})]),_:1})]),_:1},8,["options"])):E("",!0)]),_:1}))}const Cl={components:{Book:K,ArrowRight:Wt,ExternalLink:j,InfoSquare:Xe}},it=p(g(v({},Cl),{props:{data:null},setup:Ul}));function Ml(l){return(t,r)=>(i(),d(e(we),null,{default:a(()=>[n(e(te),{to:`/${l.id}`},{default:a(()=>[n(e(b),null,{default:a(()=>[n(e(K))]),_:1}),C(" "+w(l.id),1)]),_:1},8,["to"])]),_:1}))}const Tl={components:{MaterialIcon:K}},ct=p(g(v({},Tl),{props:{id:null},setup:Ml})),Ll=p({props:{value:null},setup(l){const t=l;return(r,s)=>{const o=Zt("MarkdownPreviewOutlineItem",!0);return i(),d(e(Kt),{title:t.value.title,href:t.value.href},{default:a(()=>[(i(!0),k(M,null,q(t.value.children,u=>(i(),d(o,{key:u.href,value:u},null,8,["value"]))),128))]),_:1},8,["title","href"])}}});class Rl{constructor(t="",r="",s){x(this,"title","");x(this,"href","");x(this,"children",[]);this.title=t,this.href=r,s==null&&(s=[]),this.children=s}}const zl=p({props:{element:null},setup(l,{expose:t}){const r=l,s=m();function o(c){var N,L,R;let h=(N=c.children[0].getAttribute("data-target-id"))!=null?N:"",_=(R=(L=document.getElementById(h))==null?void 0:L.innerText)!=null?R:h,$=new Rl(_,`#${h}`);if(c.children.length>1){let le=c.children[1];for(let ne=0;ne<le.children.length;ne++)$.children.push(o(le.children[ne]))}return $}async function u(){if(r.element==null)return!1;let c=document.createElement("div");if(Ie.outlineRender(r.element,c),c.children.length==0)return s.value=[],!1;let f=c.children[0],h=[];for(let _=0;_<f.children.length;_++)h.push(o(f.children[_]));return s.value=h,!0}return U(u),D(r,u),t({renderOutline:u}),(c,f)=>(i(),d(e(Qt),{type:"block","listen-to":l.element,"ignore-gap":!0},{default:a(()=>[(i(!0),k(M,null,q(s.value,h=>(i(),d(Ll,{key:h.href,value:h},null,8,["value"]))),128))]),_:1},8,["listen-to"]))}});function Pl(l,{expose:t}){const r=l,s=T(),o=O(),u=z(()=>{var F;return(F=r.baseUrl)!=null?F:""}),c=z(()=>o.value=="dark"?"dark":"light"),f=m(),h=m(),_=m(!0),$=m(!1),N=z(()=>s.state.readerMode&&o.value!="dark"),L=m(!1);async function R(){await Ie.preview(f.value,r.value,{mode:c.value,speech:{enable:!0},hljs:{lineNumber:!0,style:c.value=="dark"?"dracula":N.value?"monokailight":"github"},markdown:{linkBase:u.value,mark:!0},theme:{current:c.value}}),L.value=await h.value.renderOutline();{let F=f.value.getElementsByTagName("img");for(let A=0;A<F.length;A++){let P=F.item(A);P!=null&&(P.onclick=ie=>{Ie.previewImage(P,void 0,c.value)})}}}function le(F=!0){$.value=F}function ne(F=!0){s.commit("setReaderMode",F)}return U(R),D(r,R),D(o,R),D(N,R),t({fullscreen:le}),(F,A)=>(i(),d(e(se),{class:aa($.value?"fullscreen":"normal"),"has-sider":"","sider-placement":"right",style:{height:"100%"}},{default:a(()=>[n(e(I),{style:{height:"100%"},"native-scrollbar":!1},{default:a(()=>[y("article",{ref:(P,ie)=>{ie.element=P,f.value=P},style:{"padding-bottom":"200px"}},null,512),n(e($e),{right:_.value?50:250,style:Xt($.value?{"z-index":2}:{})},null,8,["right","style"])]),_:1}),n(e(Se),{style:{height:"100%"},"collapse-mode":"width","collapsed-width":0,width:200,"show-trigger":"bar","default-collapsed":!0,"show-collapsed-content":!1,collapsed:_.value,"onUpdate:collapsed":A[2]||(A[2]=P=>_.value=P)},{default:a(()=>[n(e(I),{style:{height:"100%","background-color":"inherit"},"native-scrollbar":!1,"content-style":"padding: 10px;"},{default:a(()=>[n(e(S),null,{default:a(()=>[n(e(Yt),null,{default:a(()=>[n(e(B),{title:"Full screen",onClick:A[0]||(A[0]=()=>le(!$.value))},{icon:a(()=>[n(e(b),null,{default:a(()=>[$.value?(i(),d(e(Ye),{key:0})):(i(),d(e(et),{key:1}))]),_:1})]),_:1}),n(e(B),{title:"Reader mode",onClick:A[1]||(A[1]=()=>ne(!e(N)))},{icon:a(()=>[n(e(b),null,{default:a(()=>[e(N)?(i(),d(e(_e),{key:0})):(i(),d(e(pe),{key:1}))]),_:1})]),_:1})]),_:1}),ea(n(zl,{element:f.value,ref:(P,ie)=>{ie.outline=P,h.value=P}},null,8,["element"]),[[ta,L.value]])]),_:1})]),_:1})]),_:1},8,["collapsed"])]),_:1},8,["class"]))}const El={components:{Maximize:et,Minimize:Ye,EnableReaderIcon:pe,DisableReaderIcon:_e}},Fl=p(g(v({},El),{props:{value:null,baseUrl:null},setup:Pl}));var Al=H(Fl,[["__scopeId","data-v-bb8ff67c"]]);const Dl=p({props:{data:null},setup(l){return(t,r)=>(i(),d(Al,{value:l.data.content,"base-url":l.data.dataUrl},null,8,["value","base-url"]))}});const ue=p({props:{css:null},setup(l){const t=l,r=document.getElementsByTagName("head")[0],s=[];function o(){for(let c of s)r.removeChild(c);s.length=0}function u(){if(o(),t.css!=null)for(let c of t.css){let f=document.createElement("link");f.type="text/css",f.rel="stylesheet",f.href=c,r.appendChild(f),s.push(f)}}return U(u),D(t,u),Ue(o),()=>{}}}),Bl={class:"slides"},jl={"data-markdown":"","data-separator":"^\\r?\\n===\\r?\\n$","data-separator-vertical":"^\\r?\\n---\\r?\\n$","data-separator-notes":"notes?:"},Ol={"data-template":""},Hl=p({props:{data:null},setup(l){const t=l,r=O(),s=m(),o=["/static/css/reveal-white.min.css","/static/css/highlight-white.min.css"],u=["/static/css/reveal-black.min.css","/static/css/highlight-black.min.css"];return U(()=>{new la({plugins:[na,sa,ra,oa,ua,ia],center:!1,markdown:{baseUrl:t.data.dataUrl,smartLists:!0,smartypants:!0},slideNumber:"c/t",hash:!0,embedded:!0,transitionSpeed:"fast"}).initialize()}),(c,f)=>(i(),k(M,null,[n(ue,{css:e(r)=="dark"?u:o},null,8,["css"]),y("div",{class:"reveal",ref:(h,_)=>{_.element=h,s.value=h}},[y("div",Bl,[y("section",jl,[y("textarea",Ol,w(l.data.content),1)])])],512)],64))}}),Vl=p({props:{data:null},setup(l){return O(),(t,r)=>(i(),d(Hl,{data:l.data},null,8,["data"]))}});class ql{constructor(t){x(this,"title");x(this,"url","");x(this,"description","");x(this,"cover","");x(this,"lrc","");x(this,"thumbnails","");x(this,"subtitle","");x(this,"author","");x(this,"renderedDescription","");this.title=t}}function ye(l){let t=[],r=ke.lexer(l.content),s=0;for(;s<r.length;){let o=null;for(;o==null&&s<r.length;){let u=r[s];u.type=="heading"&&u.depth==1&&(o=u.text),s++}if(o!=null){let u=new ql(o);for(;s<r.length;){let c=r[s];if(c.type=="heading"&&c.depth==1)break;let f=!1;if(c.type=="paragraph"){for(let h of c.tokens)if(h.type=="image"||h.type=="link"){let _=h.href,$=_;switch(Ce($)&&($=`${l.dataUrl}/${$}`),h.text){case"url":u.url==""&&(u.url=$,f=!0);break;case"cover":u.cover==""&&(u.cover=$,f=!0);break;case"lrc":u.lrc==""&&(u.lrc=$,f=!0);break;case"thumbnails":u.thumbnails==""&&(u.thumbnails=$,f=!0);break;case"subtitle":u.subtitle==""&&(u.subtitle=$,f=!0);break;case"author":u.author==""&&(u.author=_,f=!0);break}}}f||(u.description+=c.raw),s++}u.renderedDescription=ke(u.description,{baseUrl:l.dataUrl,headerIds:!1,smartLists:!0,smartypants:!0}),t.push(u)}}return t}const Gl=["innerHTML"];function Jl(l){const t=l;O();const r=m([]);return U(()=>{r.value=ye(t.data)}),(s,o)=>(i(),k(M,null,[n(ue,{css:["/static/css/github-markdown.min.css"]},null,8,["css"]),n(e(I),{style:{height:"100%"},"native-scrollbar":!1,"content-style":"padding: 20px;"},{default:a(()=>[n(e(S),{style:{"justify-content":"center"}},{default:a(()=>[(i(!0),k(M,null,q(r.value,(u,c)=>(i(),d(e(re),{hoverable:"",embedded:"",title:u.title,key:c,style:{"max-width":"300px"}},{cover:a(()=>[n(e(ca),{"object-fit":"cover",alt:u.title,src:u.url},null,8,["alt","src"])]),"header-extra":a(()=>[n(e(B),{bordered:!1,size:"large",href:u.url,tag:"a",target:"_blank"},{icon:a(()=>[n(e(b),null,{default:a(()=>[n(e(j))]),_:1})]),_:2},1032,["href"])]),default:a(()=>[y("article",{innerHTML:u.renderedDescription,class:"markdown-body",style:{"background-color":"inherit"}},null,8,Gl)]),_:2},1032,["title"]))),128))]),_:1}),n(e($e),{right:"100"})]),_:1})],64))}const Wl={components:{ExternalLink:j}},Zl=p(g(v({},Wl),{props:{data:null},setup:Jl})),Kl=["src"],Ql=["innerHTML"];function Xl(l){const t=l;O();const r=m([]),s=m(0);function o(u){u.length!=0&&(s.value=parseInt(u[0]))}return U(()=>{r.value=ye(t.data)}),(u,c)=>(i(),k(M,null,[n(ue,{css:["/static/css/github-markdown.min.css"]},null,8,["css"]),n(e(se),{"has-sider":"","sider-placement":"right",style:{height:"100%"}},{default:a(()=>[n(e(I),{style:{height:"100%"},"native-scrollbar":!1,"content-style":"height: 100%;"},{default:a(()=>[s.value<r.value.length?(i(),k("iframe",{key:0,height:"100%",width:"100%",src:r.value[s.value].url,style:{border:"0"}},null,8,Kl)):E("",!0)]),_:1}),n(e(Se),{style:{height:"100%"},"collapse-mode":"width","collapsed-width":0,width:200,"show-trigger":"bar","default-collapsed":!0,"show-collapsed-content":!1},{default:a(()=>[n(e(I),{style:{height:"100%"},"native-scrollbar":!1,"content-style":"padding: 10px;"},{default:a(()=>[n(e(tt),{accordion:!0,"arrow-placement":"right","expanded-names":s.value.toString(),onUpdateExpandedNames:o},{default:a(()=>[(i(!0),k(M,null,q(r.value,(f,h)=>(i(),d(e(at),{title:f.title,name:h.toString()},{"header-extra":a(()=>[n(e(B),{bordered:!1,size:"large",href:f.url,tag:"a",target:"_blank"},{icon:a(()=>[n(e(b),null,{default:a(()=>[n(e(j))]),_:1})]),_:2},1032,["href"])]),default:a(()=>[y("article",{innerHTML:f.renderedDescription,class:"markdown-body",style:{"background-color":"inherit"}},null,8,Ql)]),_:2},1032,["title","name"]))),256))]),_:1},8,["expanded-names"])]),_:1})]),_:1})]),_:1})],64))}const Yl={components:{ExternalLink:j}},en=p(g(v({},Yl),{props:{data:null},setup:Xl})),tn=["srcdoc"],an=p({props:{data:null},setup(l){return(t,r)=>(i(),d(e(I),{style:{height:"100%"},"native-scrollbar":!1,"content-style":"height: 100%;"},{default:a(()=>[y("iframe",{height:"100%",width:"100%",srcdoc:l.data.content,style:{border:"0"}},null,8,tn)]),_:1}))}}),ln=p({props:{data:null},setup(l){return(t,r)=>(i(),d(e(I),{style:{height:"100%"},"native-scrollbar":!1,"content-style":"height: 100%;",innerHTML:l.data.content},null,8,["innerHTML"]))}}),nn=["innerHTML"];function sn(l){const t=l;O();const r=m(),s=m([]),o=m(0),u=m(),c=z(()=>{if(s.value.length==0)return;o.value>=s.value.length&&(o.value=s.value.length-1);let _=s.value[o.value];return{url:_.url,poster:_.cover,title:_.title,subtitle:{url:_.subtitle,encoding:"utf-8",bilingual:!0},thumbnails:{url:_.thumbnails,number:100,width:160,height:90,column:10}}});function f(){s.value.length!=0&&(o.value>=s.value.length&&(o.value=s.value.length-1),u.value!=null&&(u.value.destroy(),u.value=void 0),u.value=new da(v({container:r.value,pip:!0,autoMini:!0,screenshot:!0,setting:!0,loop:!0,flip:!0,rotate:!0,playbackRate:!0,aspectRatio:!0,fullscreen:!0,fullscreenWeb:!0,subtitleOffset:!0,miniProgressBar:!0,localVideo:!0,localSubtitle:!0,networkMonitor:!1,mutex:!0,light:!0,backdrop:!0,log:!0,theme:"#ffad00",lang:navigator.language.toLowerCase()},c.value)))}function h(_){_.length!=0&&(o.value=parseInt(_[0]),f())}return U(()=>{s.value=ye(t.data),f()}),Ue(()=>{u.value!=null&&u.value.destroy()}),(_,$)=>(i(),k(M,null,[n(ue,{css:["/static/css/github-markdown.min.css"]},null,8,["css"]),n(e(se),{"has-sider":"","sider-placement":"right",style:{height:"100%"}},{default:a(()=>[n(e(I),{style:{height:"100%"},"native-scrollbar":!1,"content-style":"height: 100%;"},{default:a(()=>[y("div",{ref:(N,L)=>{L.container=N,r.value=N},style:{height:"100%"}},null,512)]),_:1}),n(e(Se),{style:{height:"100%","z-index":"100"},"collapse-mode":"width","collapsed-width":0,width:200,"show-trigger":"bar","default-collapsed":!0,"show-collapsed-content":!1},{default:a(()=>[n(e(I),{style:{height:"100%"},"native-scrollbar":!1,"content-style":"padding: 10px;"},{default:a(()=>[n(e(tt),{accordion:!0,"arrow-placement":"right","expanded-names":o.value.toString(),onUpdateExpandedNames:h},{default:a(()=>[(i(!0),k(M,null,q(s.value,(N,L)=>(i(),d(e(at),{title:N.title,name:L.toString()},{"header-extra":a(()=>[n(e(B),{bordered:!1,size:"large",href:N.url,tag:"a",target:"_blank"},{icon:a(()=>[n(e(b),null,{default:a(()=>[n(e(j))]),_:1})]),_:2},1032,["href"])]),default:a(()=>[y("article",{innerHTML:N.renderedDescription,class:"markdown-body",style:{"background-color":"inherit"}},null,8,nn)]),_:2},1032,["title","name"]))),256))]),_:1},8,["expanded-names"])]),_:1})]),_:1})]),_:1})],64))}const rn={components:{ExternalLink:j}},on=p(g(v({},rn),{props:{data:null},setup:sn})),un=["innerHTML"];function cn(l){const t=l;O();const r=m(),s=m([]),o=m(0),u=z(()=>{if(o.value<s.value.length)return s.value[o.value]}),c=m();return U(()=>{s.value=ye(t.data);let f=[];for(let h of s.value)f.push({name:h.title,url:h.url,lrc:h.lrc,cover:h.cover,artist:h.author});c.value=new fa({container:r.value,audio:f,lrcType:3,listMaxHeight:200}),c.value.on("listswitch",h=>{o.value=h.index})}),Ue(()=>{c.value!=null&&c.value.destroy()}),(f,h)=>(i(),k(M,null,[n(ue,{css:["/static/css/github-markdown.min.css","/static/css/APlayer.min.css"]},null,8,["css"]),n(e(I),{style:{height:"100%"},"native-scrollbar":!1,"content-style":"height: 100%;"},{default:a(()=>[n(e(S),{vertical:"",style:{padding:"10px"}},{default:a(()=>[y("div",{ref:(_,$)=>{$.container=_,r.value=_}},null,512),e(u)?(i(),d(e(ha),{key:0,style:{padding:"10px"}},{avatar:a(()=>[n(e(ae),{size:"large",src:e(u).cover},null,8,["src"])]),header:a(()=>[C(w(e(u).title),1)]),"header-extra":a(()=>[n(e(B),{bordered:!1,size:"large",href:e(u).url,tag:"a",target:"_blank"},{icon:a(()=>[n(e(b),null,{default:a(()=>[n(e(j))]),_:1})]),_:1},8,["href"])]),default:a(()=>[y("article",{innerHTML:e(u).renderedDescription,class:"markdown-body",style:{"background-color":"inherit"}},null,8,un)]),_:1})):E("",!0)]),_:1})]),_:1})],64))}const dn={components:{ExternalLink:j}},fn=p(g(v({},dn),{props:{data:null},setup:cn})),hn={key:0},dt=p({props:{data:null},setup(l){return(t,r)=>l.data.metadata.schema=="empty"?(i(),k("span",hn,"Empty data")):l.data.metadata.schema=="slides"?(i(),d(Vl,{key:1,data:l.data},null,8,["data"])):l.data.metadata.schema=="video"?(i(),d(on,{key:2,data:l.data},null,8,["data"])):l.data.metadata.schema=="audio"?(i(),d(fn,{key:3,data:l.data},null,8,["data"])):l.data.metadata.schema=="image"?(i(),d(Zl,{key:4,data:l.data},null,8,["data"])):l.data.metadata.schema=="link"?(i(),d(en,{key:5,data:l.data},null,8,["data"])):l.data.metadata.schema=="html"?(i(),d(an,{key:6,data:l.data},null,8,["data"])):l.data.metadata.schema=="raw"?(i(),d(ln,{key:7,data:l.data},null,8,["data"])):(i(),d(Dl,{key:8,data:l.data},null,8,["data"]))}});const _n={key:0},pn={key:1};function mn(l){const t=l,r=T(),s=Z(),o=m();async function u(){o.value=void 0;try{o.value=await r.state.api.materials.notes(t.id).get(t.noteId)}catch{o.value=void 0,s.error(`Failed to load note ${t.noteId} of material ${t.id}.`)}}return U(u),D(t,u),(c,f)=>(i(),d(e(re),{hoverable:""},{header:a(()=>[n(e(S),null,{default:a(()=>[n(e(ae),null,{default:a(()=>[n(e(b),null,{default:a(()=>[n(ve,{schema:o.value?o.value.metadata.schema:""},{default:a(()=>[n(e(G))]),_:1},8,["schema"])]),_:1})]),_:1}),n(e(te),{to:`/${t.id}/${l.noteId}`,style:{"vertical-align":"middle"}},{default:a(()=>[o.value?(i(),k("span",_n,w(o.value.metadata.name),1)):(i(),k("span",pn,w(l.noteId),1))]),_:1},8,["to"])]),_:1})]),action:a(()=>[o.value?(i(),d(ge,{key:0,data:o.value},null,8,["data"])):E("",!0)]),default:a(()=>[o.value?(i(),d(e(We),{key:0,tooltip:!1,"line-clamp":5},{default:a(()=>[C(w(e(st)(o.value.content)),1)]),_:1})):(i(),d(e(Q),{key:1,text:"",repeat:10}))]),_:1}))}const vn={components:{NoteIcon:G}},gn=p(g(v({},vn),{props:{id:null,noteId:null},setup:mn}));var yn=H(gn,[["__scopeId","data-v-698f0cba"]]);function bn(l){const t=l,r=T(),s=Z(),o=X(),u=m(),c=m(!1);return U(async()=>{try{u.value=await r.state.api.materials.notes(t.id).all()}catch{c.value=!0,s.error(`Failed to load note list for material ${t.id}.`),document.title=`Not Found - ${await r.state.api.title()}`}}),(f,h)=>c.value?(i(),d(oe,{key:0,path:e(o).currentRoute.value.fullPath},null,8,["path"])):u.value?(i(),d(ut,{key:1,items:u.value},{default:a(_=>[n(yn,{id:l.id,noteId:_.item},null,8,["id","noteId"])]),_:1},8,["items"])):(i(),d(e(Q),{key:2,text:"",repeat:20}))}const kn={components:{NotesIcon:lt}},$n=p(g(v({},kn),{props:{id:null},setup:bn}));const wn={key:0},xn={key:1};function Nn(l){const t=de(),r=X(),s=Z(),o=T(),u=t.params,c=m(),f=m(!1);return U(async()=>{try{c.value=await o.state.api.materials.get(u.id),document.title=`${c.value.metadata.name} - ${await o.state.api.title()}`}catch{f.value=!0,s.error(`Failed to load material ${u.id}.`),document.title=`Not Found - ${await o.state.api.title()}`}}),(h,_)=>f.value?(i(),d(oe,{key:0,path:e(r).currentRoute.value.fullPath},null,8,["path"])):(i(),d(Me,{key:1},{header:a(()=>[n(e(Ne),{onBack:_[0]||(_[0]=()=>e(r).back())},{title:a(()=>[c.value?(i(),k("span",wn,w(c.value.metadata.name),1)):(i(),k("span",xn,"Loading..."))]),header:a(()=>[n(e(xe),null,{default:a(()=>[n(Te),n(ct,{id:e(u).id},null,8,["id"])]),_:1})]),avatar:a(()=>[n(e(ae),null,{default:a(()=>[n(e(b),null,{default:a(()=>[n(ve,{schema:c.value?c.value.metadata.schema:""},{default:a(()=>[n(e(K))]),_:1},8,["schema"])]),_:1})]),_:1})]),extra:a(()=>[c.value?(i(),d(it,{key:0,data:c.value},null,8,["data"])):E("",!0)]),footer:a(()=>[c.value?(i(),d(ge,{key:0,data:c.value},null,8,["data"])):E("",!0)]),_:1})]),default:a(()=>[n(e(Qe),{type:"segment",style:{height:"100%"}},{default:a(()=>[n(e(me),{name:"description",tab:"Description",style:{height:"calc(100% - 52px)"}},{default:a(()=>[c.value?(i(),d(dt,{key:0,data:c.value},null,8,["data"])):(i(),d(e(Q),{key:1,text:"",repeat:20}))]),_:1}),n(e(me),{name:"notes",tab:"Notes",style:{height:"calc(100% - 52px)"}},{default:a(()=>[n(e(I),{"content-style":"padding: 10px;",style:{height:"100%"},"native-scrollbar":!1},{default:a(()=>[n($n,{id:e(u).id},null,8,["id"])]),_:1})]),_:1})]),_:1})]),_:1}))}const In={components:{MaterialIcon:K,NotesIcon:lt}},Sn=p(g(v({},In),{setup:Nn}));var Un=H(Sn,[["__scopeId","data-v-234f4b17"]]);function Cn(l){return(t,r)=>(i(),d(e(we),null,{default:a(()=>[n(e(te),{to:`/${l.id}/${l.noteId}`},{default:a(()=>[n(e(b),null,{default:a(()=>[n(e(G))]),_:1}),C(" "+w(l.noteId),1)]),_:1},8,["to"])]),_:1}))}const Mn={components:{NoteIcon:G}},Tn=p(g(v({},Mn),{props:{id:null,noteId:null},setup:Cn}));const Ln={key:0},Rn={key:1};function zn(l){const t=de(),r=Z(),s=X(),o=T(),u=t.params,c=m(),f=m(),h=m(!1);return U(async()=>{try{c.value=await o.state.api.materials.notes(u.id).get(u.noteId),f.value=await o.state.api.materials.get(u.id),document.title=`${c.value.metadata.name} - ${f.value.metadata.name} - ${await o.state.api.title()}`}catch{h.value=!0,r.error(`Failed to load note ${u.noteId} for material ${u.id}.`),document.title=`Not Found - ${await o.state.api.title()}`}}),(_,$)=>h.value?(i(),d(oe,{key:0,path:e(s).currentRoute.value.fullPath},null,8,["path"])):(i(),d(Me,{key:1},{header:a(()=>[n(e(Ne),{onBack:$[0]||($[0]=()=>e(s).back())},{title:a(()=>[c.value?(i(),k("span",Ln,w(c.value.metadata.name),1)):(i(),k("span",Rn,"Loading..."))]),header:a(()=>[n(e(xe),null,{default:a(()=>[n(Te),n(ct,{id:e(u).id},null,8,["id"]),n(Tn,{id:e(u).id,"note-id":e(u).noteId},null,8,["id","note-id"])]),_:1})]),avatar:a(()=>[n(e(ae),null,{default:a(()=>[n(e(b),null,{default:a(()=>[n(ve,{schema:c.value?c.value.metadata.schema:""},{default:a(()=>[n(e(G))]),_:1},8,["schema"])]),_:1})]),_:1})]),extra:a(()=>[c.value?(i(),d(it,{key:0,data:c.value},null,8,["data"])):E("",!0)]),footer:a(()=>[c.value?(i(),d(ge,{key:0,data:c.value},null,8,["data"])):E("",!0)]),_:1})]),default:a(()=>[n(e(I),{style:{height:"100%"}},{default:a(()=>[c.value?(i(),d(dt,{key:0,data:c.value},null,8,["data"])):(i(),d(e(Q),{key:1,text:"",repeat:20}))]),_:1})]),_:1}))}const Pn={components:{NoteIcon:G}},En=p(g(v({},Pn),{setup:zn}));var Fn=H(En,[["__scopeId","data-v-32ff20a4"]]);const An=[{path:"/",component:Nl,meta:{title:"Home - Paperead"}},{path:"/:id",component:Un,meta:{title:"Loading... - Paperead"}},{path:"/:id/:noteId",component:Fn,meta:{title:"Loading... - Loading... - Paperead"}},{path:"/:path*",component:Il,meta:{title:"Not found - Paperead"}}],ft=_a({history:pa(),routes:An});ft.beforeEach((l,t)=>(l.path==t.path||(document.title=l.meta.title.toString()),!0));const ht=ma(Sa);ht.use(ft).use(xa,ot);ht.mount("#app");
