(self["webpackChunkunmanic_frontend"]=self["webpackChunkunmanic_frontend"]||[]).push([[383],{7383:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>f});var a=t(3673);const r={class:"iframe-container"};function i(e,n,t,i,s,o){const u=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)("div",r,[null!==s.iframeSrc?((0,a.wg)(),(0,a.j4)("iframe",{key:0,id:"data-panel-iframe",src:s.iframeSrc},"\n        Your browser is not supported. Sorry.\n      ",8,["src"])):(0,a.kq)("",!0)])])),_:1})}var s=t(1959),o=t(52),u=t.n(o),l=t(7689);const d={data(){const e=(0,s.iH)(null);return{page:"",iframeSrc:e,iframeHeight:"0px"}},created(){console.debug("Component has been created!"),"undefined"!==typeof this.$route.query&&"undefined"!==typeof this.$route.query.pluginId?(console.debug("Initial update using query in uri - "+this.$route.query.pluginId),this.setPageFromParams(this.$route.query.pluginId)):(console.debug("Fetching enabled panel plugins list and setting the first result as current window"),this.setPageAsFirstEnabledPanel())},methods:{setPageFromParams(e){"undefined"!==typeof e&&(console.debug('setting iframe url to "/unmanic/panel/'+e+'/"'),this.iframeSrc="/unmanic/panel/"+e+"/")},setPageAsFirstEnabledPanel(){u()({method:"get",url:(0,l.J4)("v2","plugins/panels/enabled")}).then((e=>{if(e.data.results.length>0){let n=e.data.results[0];this.setPageFromParams(n.plugin_id)}})).catch((()=>{this.$q.notify({color:"negative",position:"top",message:this.$t("notifications.failedToFetchEnabledDataPanelPlugins"),icon:"report_problem",actions:[{icon:"close",color:"white"}]})}))}},watch:{$route(e,n){"undefined"!==typeof e.query&&(console.debug("Detected change in route with query in uri - "+e.query.pluginId),this.setPageFromParams(e.query.pluginId))}}};var c=t(4379),g=t(7518),p=t.n(g);d.render=i;const f=d;p()(d,"components",{QPage:c.Z})}}]);