"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_actions_alertActions_tsx-app_components_acl_access_tsx-app_components_modals_addDashboard-13a6d7"],{"./app/actionCreators/savedSearches.tsx":(e,t,s)=>{s.d(t,{bG:()=>l,C2:()=>c,VH:()=>u,cB:()=>h,YO:()=>m,k0:()=>v,g_:()=>y,k9:()=>b});var a=s("./app/actionCreators/indicator.tsx"),n=s("./app/actions/savedSearchesActions.tsx"),i=s("./app/constants/index.tsx"),r=s("./app/locale.tsx"),o=s("./app/types/index.tsx"),d=s("./app/utils/handleXhrErrorResponse.tsx");function l(){n.Z.resetSavedSearches()}function c(e,t){const s="/organizations/".concat(t,"/searches/");n.Z.startFetchSavedSearches();const i=e.requestPromise(s,{method:"GET"});return i.then((e=>{n.Z.fetchSavedSearchesSuccess(e)})).catch((e=>{n.Z.fetchSavedSearchesError(e),(0,a.Iw)((0,r.t)("Unable to load saved searches"))})),i}const p=e=>"/organizations/".concat(e,"/recent-searches/");function u(e,t,s,a){const n=p(t),i=e.requestPromise(n,{method:"POST",data:{query:a,type:s}});return i.catch((0,d.Z)("Unable to save a recent search")),i}function h(e,t,s,a,i){const r=e.requestPromise("/organizations/".concat(t,"/searches/"),{method:"POST",data:{type:o.L4.ISSUE,query:a,name:s,sort:i}});return r.then((e=>{n.Z.createSavedSearchSuccess(e)})),r}function m(e,t,s,a){const n=p(t),r=e.requestPromise(n,{query:{query:a,type:s,limit:i.x}});return r.catch((e=>{401!==e.status&&403!==e.status&&(0,d.Z)("Unable to fetch recent searches")(e)})),r}const g=e=>"/organizations/".concat(e,"/pinned-searches/");function v(e,t,s,a,i){const r=g(t);n.Z.pinSearch(s,a,i);const o=e.requestPromise(r,{method:"PUT",data:{query:a,type:s,sort:i}});return o.then(n.Z.pinSearchSuccess),o.catch((0,d.Z)("Unable to pin search")),o.catch((()=>{n.Z.unpinSearch(s)})),o}function y(e,t,s,a){const i=g(t);n.Z.unpinSearch(s);const r=e.requestPromise(i,{method:"DELETE",data:{type:s}});return r.catch((0,d.Z)("Unable to un-pin search")),r.catch((()=>{const{type:e,query:t}=a;n.Z.pinSearch(e,t)})),r}function b(e,t,s){const a="/organizations/".concat(t,"/searches/").concat(s.id,"/");return e.requestPromise(a,{method:"DELETE"}).then((()=>n.Z.deleteSavedSearchSuccess(s))).catch((0,d.Z)("Unable to delete a saved search"))}},"./app/actions/alertActions.tsx":(e,t,s)=>{s.d(t,{Z:()=>i});var a=s("../node_modules/reflux/src/index.js");const n=s.n(a)().createActions(["addAlert","closeAlert"]),i="app"==s.j?n:null},"./app/actions/tagActions.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});var a=s("../node_modules/reflux/src/index.js");const n=s.n(a)().createActions(["loadTagsError","loadTagsSuccess"])},"./app/components/acl/access.tsx":(e,t,s)=>{s.d(t,{Z:()=>m});var a=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=s("../node_modules/react/index.js"),i=s("./app/components/alert.tsx"),r=s("./app/icons/index.tsx"),o=s("./app/locale.tsx"),d=s("./app/utils/isRenderFunc.tsx"),l=s("./app/utils/withConfig.tsx"),c=s("./app/utils/withOrganization.tsx"),p=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const u=(0,p.tZ)(i.Z,{type:"error",icon:(0,p.tZ)(r.aU,{size:"md"}),children:(0,o.t)("You do not have sufficient permissions to access this.")});class h extends n.Component{render(){const{organization:e,config:t,access:s,requireAll:a,isSuperuser:n,renderNoAccessMessage:i,children:r}=this.props,{access:o}=e||{access:[]},l=!s||s[a?"every":"some"]((e=>o.includes(e))),c=!(!t.user||!t.user.isSuperuser),p={hasAccess:l,hasSuperuser:c},h=l&&(!n||c);return h||"function"!=typeof i?!h&&i?u:(0,d.l)(r)?r(p):h?r:null:i(p)}}h.displayName="Access",(0,a.Z)(h,"defaultProps",{renderNoAccessMessage:!1,isSuperuser:!1,requireAll:!0,access:[]});const m=(0,c.Z)((0,l.Z)(h))},"./app/components/modals/addDashboardWidgetModal.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>$,modalCss:()=>Y});var a=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),r=s("../node_modules/react-router/es/index.js"),o=s("../node_modules/react-select/dist/chunk-80640036.browser.esm.js"),d=s("../node_modules/lodash/cloneDeep.js"),l=s.n(d),c=s("../node_modules/lodash/pick.js"),p=s.n(c),u=s("../node_modules/lodash/set.js"),h=s.n(u),m=s("./app/actionCreators/dashboards.tsx"),g=s("./app/actionCreators/indicator.tsx"),v=s("./app/components/button.tsx"),y=s("./app/components/buttonBar.tsx"),b=s("./app/components/events/searchBar.tsx"),f=s("./app/components/forms/selectControl.tsx"),x=s("./app/constants/index.tsx"),S=s("./app/icons/index.tsx"),Z=s("./app/locale.tsx"),q=s("./app/styles/space.tsx"),w=s("./app/utils/discover/fields.tsx"),T=s("./app/views/settings/components/forms/controls/input.tsx"),C=s("./app/views/settings/components/forms/field/index.tsx"),_=s("./app/components/dashboards/widgetQueryFields.tsx"),A=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const k=e=>{const t=[];return e.forEach((e=>{const s=(0,w.LY)(e);t.push({label:(0,Z.t)("%s asc",e),value:s}),t.push({label:(0,Z.t)("%s desc",e),value:"-".concat(s)})})),t};class E extends i.Component{constructor(...e){super(...e),(0,a.Z)(this,"handleFieldChange",((e,t)=>{const{queries:s,onChange:a}=this.props,n=s[e];return function(s){const i={...n,[t]:s};a(e,i)}}))}getFirstQueryError(e){const{errors:t}=this.props;if(t)return t.find((t=>t&&t[e]))}render(){var e;const{organization:t,selection:s,errors:a,queries:n,canAddSearchConditions:i,handleAddSearchConditions:r,handleDeleteQuery:o,displayType:d,fieldOptions:c,onChange:p}=this.props,u=["table","world_map","big_number"].includes(d),h=n[0].fields.map((e=>(0,w.HM)({field:e})));return(0,A.BX)(j,{children:[n.map(((e,i)=>(0,A.tZ)(C.Z,{label:0===i?(0,Z.t)("Query"):null,inline:!1,style:{paddingBottom:"8px"},flexibleControlStateSize:!0,stacked:!0,error:null==a?void 0:a[i].conditions,children:(0,A.BX)(O,{children:[(0,A.tZ)(D,{searchSource:"widget_builder",organization:t,projectIds:s.projects,query:e.conditions,fields:[],onSearch:this.handleFieldChange(i,"conditions"),onBlur:this.handleFieldChange(i,"conditions"),useFormWrapper:!1,maxQueryLength:x.dI}),!u&&(0,A.tZ)(z,{type:"text",name:"name",required:!0,value:e.name,placeholder:(0,Z.t)("Legend Alias"),onChange:e=>this.handleFieldChange(i,"name")(e.target.value)}),n.length>1&&(0,A.tZ)(v.ZP,{size:"zero",borderless:!0,onClick:e=>{e.preventDefault(),o(i)},icon:(0,A.tZ)(S.Fz,{}),title:(0,Z.t)("Remove query"),label:(0,Z.t)("Remove query")})]})},i))),i&&(0,A.tZ)(v.ZP,{size:"small",icon:(0,A.tZ)(S.N_,{isCircled:!0}),onClick:e=>{e.preventDefault(),r()},children:(0,Z.t)("Add Query")}),(0,A.tZ)(_.Z,{displayType:d,fieldOptions:c,errors:this.getFirstQueryError("fields"),fields:h,organization:t,onChange:e=>{const t=e.map((e=>(0,w.sN)(e)));n.forEach(((e,s)=>{const a=l()(e);a.fields=t,p(s,a)}))}}),["table","top_n"].includes(d)&&(0,A.tZ)(C.Z,{label:(0,Z.t)("Sort by"),inline:!1,flexibleControlStateSize:!0,stacked:!0,error:null===(e=this.getFirstQueryError("orderby"))||void 0===e?void 0:e.orderby,style:{marginBottom:(0,q.Z)(1)},children:(0,A.tZ)(f.Z,{value:n[0].orderby,name:"orderby",options:k(n[0].fields),onChange:e=>this.handleFieldChange(0,"orderby")(e.value)})})]})}}E.displayName="WidgetQueriesForm";const j=(0,n.Z)("div",{target:"e10b8jq53"})({name:"bjn8wh",styles:"position:relative"}),O=(0,n.Z)("div",{target:"e10b8jq52"})("display:flex;align-items:center;>*+*{margin-left:",(0,q.Z)(1),";}"),D=(0,n.Z)(b.Z,{target:"e10b8jq51"})({name:"1ff36h2",styles:"flex-grow:1"}),z=(0,n.Z)(T.Z,{target:"e10b8jq50"})({name:"1f6lq61",styles:"width:33%"}),R=E;var F=s("./app/components/panels/index.tsx"),B=s("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),P=s("./app/utils/measurements/measurements.tsx"),N=s("./app/utils/withApi.tsx"),M=s("./app/utils/withGlobalSelection.tsx"),L=s("./app/utils/withTags.tsx"),U=s("./app/views/dashboardsV2/data.tsx"),W=s("./app/views/dashboardsV2/types.tsx"),V=s("./app/views/dashboardsV2/widget/eventWidget/utils.tsx"),G=s("./app/views/dashboardsV2/widgetCard.tsx"),I=s("./app/views/eventsV2/utils.tsx"),Q=s("./app/components/tooltip.tsx");const H={name:"",fields:["count()"],conditions:"",orderby:""};class X extends i.Component{constructor(e){super(e),(0,a.Z)(this,"handleSubmit",(async e=>{e.preventDefault();const{api:t,closeModal:s,organization:a,onAddWidget:n,onUpdateWidget:i,widget:r,fromDiscover:o}=this.props;this.setState({loading:!0});let d={};const l=p()(this.state,["title","displayType","interval","queries"]);[W.FO.TABLE,W.FO.TOP_N].includes(l.displayType)||l.queries.forEach((e=>{e.orderby=""}));try{await(0,m.QL)(t,a.slug,l),"function"==typeof i&&r?(i({id:null==r?void 0:r.id,...l}),(0,g.S9)((0,Z.t)("Updated widget."))):n&&(n(l),(0,g.S9)((0,Z.t)("Added widget."))),o||s()}catch(e){var c;d=(0,V.w)(null!==(c=null==e?void 0:e.responseJSON)&&void 0!==c?c:{},{}),this.setState({errors:d})}finally{this.setState({loading:!1}),o&&this.handleSubmitFromDiscover(d,l)}})),(0,a.Z)(this,"handleSubmitFromDiscover",(async(e,t)=>{const{closeModal:s,organization:a}=this.props,{selectedDashboard:n,dashboards:i}=this.state;if(n&&(i.find((({title:e,id:t})=>e===(null==n?void 0:n.label)&&t===(null==n?void 0:n.value)))||"new"===n.value)||(e.dashboard=(0,Z.t)("This field may not be blank"),this.setState({errors:e})),!Object.keys(e).length&&n){s();const e={queryNames:[],queryConditions:[],queryFields:t.queries[0].fields,queryOrderby:t.queries[0].orderby};t.queries.forEach((t=>{e.queryNames.push(t.name),e.queryConditions.push(t.conditions)}));const i={displayType:t.displayType,interval:t.interval,title:t.title,...e};(0,B.Z)("discover_views.add_to_dashboard.confirm",{organization:a}),"new"===n.value?r.browserHistory.push({pathname:"/organizations/".concat(a.slug,"/dashboards/new/"),query:i}):r.browserHistory.push({pathname:"/organizations/".concat(a.slug,"/dashboard/").concat(n.value,"/"),query:i})}})),(0,a.Z)(this,"handleDefaultFields",(()=>{const{defaultWidgetQuery:e,defaultTableColumns:t}=this.props;this.setState((s=>{const a=l()(s),n=s.displayType,i=(0,V.Z)(n,s.queries);return e&&t&&!s.userHasModified&&(n===W.FO.TABLE?i.forEach((e=>{e.fields=[...t]})):n===W.FO.TOP_N?i.forEach((s=>{s.fields=[...t,e.fields[0]],s.orderby=e.orderby})):i.forEach((t=>{t.fields=[...e.fields]}))),h()(a,"queries",i),{...a,errors:void 0}}))})),(0,a.Z)(this,"handleFieldChange",(e=>t=>{const{fromDiscover:s,organization:a}=this.props;this.setState((n=>{const i=l()(n);return h()(i,e,t),(0,B.Z)("dashboards_views.add_widget_modal.change",{from:s?"discoverv2":"dashboards",field:e,value:t,organization:a}),{...i,errors:void 0}})),"displayType"===e&&this.handleDefaultFields()})),(0,a.Z)(this,"handleQueryChange",((e,t)=>{this.setState((s=>{const a=l()(s);return h()(a,"queries.".concat(t),e),h()(a,"userHasModified",!0),{...a,errors:void 0}}))})),(0,a.Z)(this,"handleQueryRemove",(e=>{this.setState((t=>{const s=l()(t);return s.queries.splice(e,1),{...s,errors:void 0}}))})),(0,a.Z)(this,"handleAddSearchConditions",(()=>{this.setState((e=>{const t=l()(e),s=l()(H);return s.fields=this.state.queries[0].fields,t.queries.push(s),t}))}));const{widget:t,defaultWidgetQuery:s,defaultTitle:n,displayType:i,fromDiscover:o}=e;this.state=t?{title:t.title,displayType:t.displayType,interval:t.interval,queries:(0,V.Z)(t.displayType,t.queries),errors:void 0,loading:!1,dashboards:[],userHasModified:!1}:{title:null!=n?n:"",displayType:null!=i?i:W.FO.LINE,interval:"5m",queries:[s?{...s}:{...H}],errors:void 0,loading:!!o,dashboards:[],userHasModified:!1}}componentDidMount(){const{fromDiscover:e}=this.props;e&&this.fetchDashboards(),this.handleDefaultFields()}canAddSearchConditions(){const e=["line","area","stacked_area","bar"].includes(this.state.displayType),t=this.state.queries.length<3;return e&&t}async fetchDashboards(){const{api:e,organization:t}=this.props,s=e.requestPromise("/organizations/".concat(t.slug,"/dashboards/"),{method:"GET",query:{sort:"myDashboardsAndRecentlyViewed"}});try{const e=await s;this.setState({dashboards:e})}catch(e){var a;const t=null!==(a=null==e?void 0:e.responseJSON)&&void 0!==a?a:null;t?(0,g.Iw)(t):(0,g.Iw)((0,Z.t)("Unable to fetch dashboards"))}this.setState({loading:!1})}handleDashboardChange(e){this.setState({selectedDashboard:e})}renderDashboardSelector(){const{errors:e,loading:t,dashboards:s}=this.state,a=s.map((e=>({label:e.title,value:e.id,isDisabled:e.widgetDisplay.length>=W.ZU})));return(0,A.BX)(i.Fragment,{children:[(0,A.tZ)("p",{children:(0,Z.t)("Choose which dashboard you'd like to add this query to. It will appear as a widget.")}),(0,A.tZ)(C.Z,{label:(0,Z.t)("Custom Dashboard"),inline:!1,flexibleControlStateSize:!0,stacked:!0,error:null==e?void 0:e.dashboard,style:{marginBottom:(0,q.Z)(1),position:"relative"},required:!0,children:(0,A.tZ)(f.Z,{name:"dashboard",options:[{label:(0,Z.t)("+ Create New Dashboard"),value:"new"},...a],onChange:e=>this.handleDashboardChange(e),disabled:t,components:{Option:({label:e,data:t,...s})=>(0,A.tZ)(Q.Z,{disabled:!t.isDisabled,title:(0,Z._N)("Max widgets ([maxWidgets]) per dashboard reached.",{maxWidgets:W.ZU}),containerDisplayMode:"block",position:"right",children:(0,A.tZ)(o.y.Option,{label:e,data:t,...s})})}})})]})}render(){const{Footer:e,Body:t,Header:s,api:a,organization:n,selection:r,tags:o,fromDiscover:d,onUpdateWidget:l,widget:c,start:p,end:u,statsPeriod:h}=this.props,m=this.state,g=m.errors,b=h?{...r,datetime:{start:null,end:null,period:h,utc:null}}:p&&u?{...r,datetime:{start:p,end:u,period:"",utc:null}}:r,x="function"==typeof l&&!!c;return(0,A.BX)(i.Fragment,{children:[(0,A.tZ)(s,{closeButton:!0,children:(0,A.tZ)("h4",{children:d?(0,Z.t)("Add Widget to Dashboard"):x?(0,Z.t)("Edit Widget"):(0,Z.t)("Add Widget")})}),(0,A.BX)(t,{children:[d&&this.renderDashboardSelector(),(0,A.BX)(J,{children:[(0,A.tZ)(K,{"data-test-id":"widget-name",label:(0,Z.t)("Widget Name"),inline:!1,flexibleControlStateSize:!0,stacked:!0,error:null==g?void 0:g.title,required:!0,children:(0,A.tZ)(T.Z,{type:"text",name:"title",maxLength:255,required:!0,value:m.title,onChange:e=>{this.handleFieldChange("title")(e.target.value)},disabled:m.loading})}),(0,A.tZ)(K,{"data-test-id":"chart-type",label:(0,Z.t)("Visualization Display"),inline:!1,flexibleControlStateSize:!0,stacked:!0,error:null==g?void 0:g.displayType,required:!0,children:(0,A.tZ)(f.Z,{options:U.L3.slice(),name:"displayType",value:m.displayType,onChange:e=>this.handleFieldChange("displayType")(e.value),disabled:m.loading})})]}),(0,A.tZ)(P.Z,{organization:n,children:({measurements:e})=>{const t=(s=Object.values(e).map((({key:e})=>e)),(0,I.R0)({organization:n,tagKeys:Object.values(o).map((({key:e})=>e)),measurementKeys:s}));var s;return(0,A.tZ)(R,{organization:n,selection:b,fieldOptions:t,displayType:m.displayType,queries:m.queries,errors:null==g?void 0:g.queries,onChange:(e,t)=>this.handleQueryChange(t,e),canAddSearchConditions:this.canAddSearchConditions(),handleAddSearchConditions:this.handleAddSearchConditions,handleDeleteQuery:this.handleQueryRemove})}}),(0,A.tZ)(G.Z,{api:a,organization:n,selection:b,widget:this.state,isEditing:!1,onDelete:()=>{},onEdit:()=>{},renderErrorMessage:e=>"string"==typeof e&&(0,A.tZ)(F.aU,{type:"error",children:e}),isSorting:!1,currentWidgetDragging:!1})]}),(0,A.tZ)(e,{children:(0,A.BX)(y.ZP,{gap:1,children:[(0,A.tZ)(v.ZP,{external:!0,href:"https://docs.sentry.io/product/dashboards/custom-dashboards/#widget-builder",children:(0,Z.t)("Read the docs")}),(0,A.tZ)(v.ZP,{"data-test-id":"add-widget",priority:"primary",type:"button",onClick:this.handleSubmit,disabled:m.loading,busy:m.loading,children:x?(0,Z.t)("Update Widget"):(0,Z.t)("Add Widget")})]})})]})}}X.displayName="AddDashboardWidgetModal";const J=(0,n.Z)("div",{target:"e19emimy1"})("display:inline-grid;grid-template-columns:repeat(2, 1fr);grid-column-gap:",(0,q.Z)(1),";width:100%;"),Y={name:"l07bt5",styles:"width:100%;max-width:700px;margin:70px auto"},K=(0,n.Z)(C.Z,{target:"e19emimy0"})({name:"bjn8wh",styles:"position:relative"}),$=(0,N.Z)((0,M.Z)((0,L.Z)(X)))},"./app/components/smartSearchBar/utils.tsx":(e,t,s)=>{s.d(t,{be:()=>d,WF:()=>l,oe:()=>u,iO:()=>h,th:()=>m,Um:()=>g}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var a=s("./app/components/searchSyntax/parser.tsx"),n=s("./app/icons/index.tsx"),i=s("./app/locale.tsx"),r=s("./app/components/smartSearchBar/types.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(e=""){return 0!==e.length&&" "!==e[e.length-1]?e+" ":e}function l(e=""){return" "===e[e.length-1]?e.slice(0,e.length-1):e}function c(e){return e===r.q.TAG_VALUE?(0,i.t)("Tag Values"):e===r.q.RECENT_SEARCH?(0,i.t)("Recent Searches"):e===r.q.DEFAULT?(0,i.t)("Common Search Terms"):e===r.q.TAG_OPERATOR?(0,i.t)("Operator Helpers"):e===r.q.PROPERTY?(0,i.t)("Properties"):(0,i.t)("Tags")}function p(e,t){if(e===r.q.RECENT_SEARCH)return(0,o.tZ)(n.jo,{size:"xs"});if(e===r.q.DEFAULT)return(0,o.tZ)(n.GK,{size:"xs"});switch(t){case"is":return(0,o.tZ)(n.oe,{size:"xs"});case"assigned":case"bookmarks":return(0,o.tZ)(n.qO,{size:"xs"});case"firstSeen":case"lastSeen":case"event.timestamp":return(0,o.tZ)(n.jo,{size:"xs"});default:return(0,o.tZ)(n.Ah,{size:"xs"})}}function u(e,t,s,a,d,l){d&&d>0&&(e=e.filter(((e,t)=>t<d||e.ignoreMaxSearchItems))),(l||0===l)&&(e=e.filter((e=>e.value.length<=l)),t&&(t=t.filter((e=>e.value.length<=l))));const u={title:c(a),type:a===r.q.INVALID_TAG?a:"header",icon:p(a,s),children:[...e]},h=t&&{title:(0,i.t)("Recent Searches"),type:"header",icon:(0,o.tZ)(n.jo,{size:"xs"}),children:[...t]};return u.children&&u.children.length&&(u.children[0]={...u.children[0]}),{searchGroups:[u,...h?[h]:[]],flatSearchItems:[...e,...t||[]],activeSearchItem:-1}}function h(e,t){let s=t,a=[void 0,void 0];return e.find((({children:e},t)=>!(!e||!e.length||(s<e.length?(a=[t,s],0):(s-=e.length,1))))),a}function m(e){return{[a.oV.Default]:{type:r.q.TAG_OPERATOR,value:":",desc:"".concat(e,":").concat((0,i.t)("[value] is equal to"))},[a.oV.GreaterThanEqual]:{type:r.q.TAG_OPERATOR,value:":>=",desc:"".concat(e,":").concat((0,i.t)(">=[value] is greater than or equal to"))},[a.oV.LessThanEqual]:{type:r.q.TAG_OPERATOR,value:":<=",desc:"".concat(e,":").concat((0,i.t)("<=[value] is less than or equal to"))},[a.oV.GreaterThan]:{type:r.q.TAG_OPERATOR,value:":>",desc:"".concat(e,":").concat((0,i.t)(">[value] is greater than"))},[a.oV.LessThan]:{type:r.q.TAG_OPERATOR,value:":<",desc:"".concat(e,":").concat((0,i.t)("<[value] is less than"))},[a.oV.Equal]:{type:r.q.TAG_OPERATOR,value:":=",desc:"".concat(e,":").concat((0,i.t)("=[value] is equal to"))},[a.oV.NotEqual]:{type:r.q.TAG_OPERATOR,value:"!:",desc:"!".concat(e,":").concat((0,i.t)("[value] is not equal to"))}}}function g(e){var t,s;const n=null!==(t=null===(s=e.invalid)||void 0===s?void 0:s.expectedType)&&void 0!==t?t:[e.filter],i=n.map((e=>{var t;return null!==(t=a.J$[e])&&void 0!==t?t:[]})),r=[...new Set([...n,...i.flat()])];return[...new Set(r.map((e=>a.iq[e].validOps)).flat())]}},"./app/stores/tagStore.tsx":(e,t,s)=>{s.d(t,{Z:()=>d});var a=s("../node_modules/reflux/src/index.js"),n=s.n(a),i=s("./app/actions/tagActions.tsx");const r=["event.type","platform","message","title","location","timestamp","release","user.id","user.username","user.email","user.ip","sdk.name","sdk.version","http.method","http.url","os.build","os.kernel_version","device.brand","device.locale","device.uuid","device.model_id","device.arch","device.orientation","geo.country_code","geo.region","geo.city","error.type","error.handled","error.unhandled","error.value","error.mechanism","stack.abs_path","stack.filename","stack.package","stack.module","stack.function","stack.stack_level"].reduce(((e,t)=>(e[t]={key:t,name:t},e)),{}),o={state:{},init(){this.state={},this.listenTo(i.Z.loadTagsSuccess,this.onLoadTagsSuccess)},getBuiltInTags:()=>({...r}),getIssueAttributes(){const e=["resolved","unresolved","ignored","assigned","for_review","unassigned","linked","unlinked"];return{is:{key:"is",name:"Status",values:e,maxSuggestedValues:e.length,predefined:!0},has:{key:"has",name:"Has Tag",values:Object.keys(this.state),predefined:!0},assigned:{key:"assigned",name:"Assigned To",values:[],predefined:!0},bookmarks:{key:"bookmarks",name:"Bookmarked By",values:[],predefined:!0},lastSeen:{key:"lastSeen",name:"Last Seen",values:["-1h","+1d","-1w"],predefined:!0},firstSeen:{key:"firstSeen",name:"First Seen",values:["-1h","+1d","-1w"],predefined:!0},firstRelease:{key:"firstRelease",name:"First Release",values:["latest"],predefined:!0},"event.timestamp":{key:"event.timestamp",name:"Event Timestamp",values:["2017-01-02",">=2017-01-02T01:00:00","<2017-01-02T02:00:00"],predefined:!0},timesSeen:{key:"timesSeen",name:"Times Seen",isInput:!0,values:[],predefined:!0},assigned_or_suggested:{key:"assigned_or_suggested",name:"Assigned or Suggested",isInput:!0,values:[],predefined:!0}}},reset(){this.state={},this.trigger(this.state)},getAllTags(){return this.state},onLoadTagsSuccess(e){const t=e.reduce(((e,t)=>(e[t.key]={values:[],...t},e)),{});this.state={...this.state,...t},this.trigger(this.state)}},d=n().createStore(o)},"./app/views/dashboardsV2/data.tsx":(e,t,s)=>{s.d(t,{R7:()=>n,L3:()=>i,GY:()=>r});var a=s("./app/locale.tsx");const n={id:"",dateCreated:"",createdBy:void 0,title:(0,a.t)("Untitled dashboard"),widgets:[]},i=[{label:(0,a.t)("Area Chart"),value:"area"},{label:(0,a.t)("Bar Chart"),value:"bar"},{label:(0,a.t)("Line Chart"),value:"line"},{label:(0,a.t)("Table"),value:"table"},{label:(0,a.t)("World Map"),value:"world_map"},{label:(0,a.t)("Big Number"),value:"big_number"},{label:(0,a.t)("Top 5 Events"),value:"top_n"}],r=((0,a.t)("1 Minute"),(0,a.t)("5 Minutes"),(0,a.t)("15 Minutes"),(0,a.t)("30 Minutes"),(0,a.t)("1 Hour"),(0,a.t)("1 Day"),"24h")},"./app/views/issueList/createSavedSearchModal.tsx":(e,t,s)=>{s.d(t,{Z:()=>g});var a=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),i=s("./app/actionCreators/indicator.tsx"),r=s("./app/actionCreators/savedSearches.tsx"),o=s("./app/components/alert.tsx"),d=s("./app/locale.tsx"),l=s("./app/utils/withApi.tsx"),c=s("./app/views/settings/components/forms/index.tsx"),p=s("./app/views/issueList/utils.tsx"),u=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const h=[p.qh.DATE,p.qh.NEW,p.qh.FREQ,p.qh.PRIORITY,p.qh.USER];class m extends n.Component{constructor(...e){super(...e),(0,a.Z)(this,"state",{isSaving:!1,error:null}),(0,a.Z)(this,"handleSubmit",((e,t,s,a)=>{const{api:n,organization:o}=this.props,l=this.validateSortOption(e.sort);a.preventDefault(),this.setState({isSaving:!0}),(0,i.E3)((0,d.t)("Saving Changes")),(0,r.cB)(n,o.slug,e.name,e.query,l).then((s=>{this.props.closeModal(),this.setState({error:null,isSaving:!1}),(0,i.B8)(),t(e)})).catch((e=>{let t=(0,d.t)("Unable to save your changes.");e.responseJSON&&e.responseJSON.detail&&(t=e.responseJSON.detail),this.setState({error:t,isSaving:!1}),(0,i.B8)(),s(t)}))}))}validateSortOption(e){return this.sortOptions().find((t=>t===e))?e:p.qh.DATE}sortOptions(){var e;const{organization:t}=this.props,s=[...h];return null!=t&&null!==(e=t.features)&&void 0!==e&&e.includes("issue-list-trend-sort")&&s.push(p.qh.TREND),s}render(){const{error:e}=this.state,{Header:t,Body:s,closeModal:a,query:n,sort:i}=this.props,r=this.sortOptions().map((e=>({value:e,label:(0,p._k)(e)}))),l={name:"",query:n,sort:this.validateSortOption(i)};return(0,u.BX)(c.l0,{onSubmit:this.handleSubmit,onCancel:a,saveOnBlur:!1,initialData:l,submitLabel:(0,d.t)("Save"),children:[(0,u.tZ)(t,{children:(0,u.tZ)("h4",{children:(0,d.t)("Save Current Search")})}),(0,u.BX)(s,{children:[this.state.error&&(0,u.tZ)(o.Z,{type:"error",children:e}),(0,u.tZ)("p",{children:(0,d.t)("All team members will now have access to this search.")}),(0,u.tZ)(c.nv,{name:"name",label:(0,d.t)("Name"),placeholder:"e.g. My Search Results",inline:!1,stacked:!0,flexibleControlStateSize:!0,required:!0},"name"),(0,u.tZ)(c.nv,{name:"query",label:(0,d.t)("Query"),inline:!1,stacked:!0,flexibleControlStateSize:!0,required:!0},"query"),(0,u.tZ)(c.mg,{name:"sort",label:(0,d.t)("Sort By"),options:r,required:!0,clearable:!1,inline:!1,stacked:!0,flexibleControlStateSize:!0},"sort")]})]})}}m.displayName="CreateSavedSearchModal";const g=(0,l.Z)(m)},"./app/views/settings/components/forms/apiForm.tsx":(e,t,s)=>{s.d(t,{Z:()=>c});var a=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),i=s("./app/actionCreators/indicator.tsx"),r=s("./app/api.tsx"),o=s("./app/locale.tsx"),d=s("./app/views/settings/components/forms/form.tsx"),l=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class c extends n.Component{constructor(...e){super(...e),(0,a.Z)(this,"api",new r.KU),(0,a.Z)(this,"onSubmit",((e,t,s)=>{this.props.onSubmit&&this.props.onSubmit(e),(0,i.E3)((0,o.t)("Saving changesâ€¦")),this.api.request(this.props.apiEndpoint,{method:this.props.apiMethod,data:e,success:e=>{(0,i.B8)(),t(e)},error:e=>{(0,i.B8)(),s(e)}})}))}componentWillUnmount(){this.api.clear()}render(){const{onSubmit:e,apiMethod:t,apiEndpoint:s,...a}=this.props;return(0,l.tZ)(d.Z,{onSubmit:this.onSubmit,...a})}}c.displayName="ApiForm"},"./app/views/settings/components/forms/checkboxField.tsx":(e,t,s)=>{s.d(t,{Z:()=>g});var a=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=s("./app/components/checkbox.tsx"),i=s("./app/styles/space.tsx"),r=s("./app/views/settings/components/forms/field/fieldDescription.tsx"),o=s("./app/views/settings/components/forms/field/fieldHelp.tsx"),d=s("./app/views/settings/components/forms/field/fieldLabel.tsx"),l=s("./app/views/settings/components/forms/field/fieldRequiredBadge.tsx"),c=s("./app/views/settings/components/forms/formField/index.tsx"),p=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function u(e){const{name:t,disabled:s,stacked:a,id:i,required:u,label:g,help:v}=e,y="function"==typeof v?v(e):v;return(0,p.tZ)(c.Z,{name:t,inline:!1,stacked:a,children:({onChange:e,value:c})=>(0,p.BX)(m,{children:[(0,p.tZ)(h,{children:(0,p.tZ)(n.Z,{id:i,name:t,disabled:s,checked:!0===c,onChange:function(t){const s=t.target.checked;null==e||e(s,t)}})}),(0,p.BX)(r.Z,{htmlFor:i,children:[g&&(0,p.tZ)(d.Z,{disabled:s,children:(0,p.BX)("span",{children:[g,u&&(0,p.tZ)(l.Z,{})]})}),y&&(0,p.tZ)(o.Z,{stacked:a,inline:!0,children:y})]})]})})}u.displayName="CheckboxField";const h=(0,a.Z)("span",{target:"e89o06e1"})("align-self:flex-start;display:flex;margin-right:",(0,i.Z)(1),";& input{margin:0;}"),m=(0,a.Z)("div",{target:"e89o06e0"})({name:"ho1qnd",styles:"display:flex;flex-direction:row"}),g="app"==s.j?u:null}}]);
//# sourceMappingURL=../sourcemaps/app_actions_alertActions_tsx-app_components_acl_access_tsx-app_components_modals_addDashboard-13a6d7.5707210473937203935111f783f6ef03.js.map