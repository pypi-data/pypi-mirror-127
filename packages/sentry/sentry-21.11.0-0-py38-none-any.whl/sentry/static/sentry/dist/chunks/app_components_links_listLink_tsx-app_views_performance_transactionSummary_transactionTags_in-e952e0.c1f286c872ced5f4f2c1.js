"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_components_links_listLink_tsx-app_views_performance_transactionSummary_transactionTags_in-e952e0"],{"./app/components/charts/components/visualMap.tsx":(e,t,n)=>{function a(e){return e}n.d(t,{Z:()=>a}),n("../node_modules/echarts/lib/component/visualMap.js")},"./app/components/charts/transitionChart.tsx":(e,t,n)=>{n.d(t,{Z:()=>l});var a=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),o=n("./app/components/charts/loadingPanel.tsx"),s=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class i extends r.Component{constructor(...e){super(...e),(0,a.Z)(this,"state",{prevReloading:this.props.reloading,prevLoading:this.props.loading,key:1})}static getDerivedStateFromProps(e,t){const n=t.prevReloading,a=e.reloading,r=t.prevLoading,o=e.loading;return r!==o?{prevReloading:a,prevLoading:o,key:t.key+1}:o?{prevReloading:a,prevLoading:o,key:t.key}:n&&!a?{prevReloading:a,prevLoading:o,key:t.key+1}:{prevReloading:a,prevLoading:o,key:t.key}}render(){const{height:e,loading:t,reloading:n}=this.props;return t&&!n?(0,s.tZ)(o.Z,{height:e,"data-test-id":"events-request-loading"}):(0,s.tZ)(r.Fragment,{children:this.props.children},String(this.state.key))}}i.displayName="TransitionChart",(0,a.Z)(i,"defaultProps",{height:"200px"});const l=i},"./app/components/charts/transparentLoadingMask.tsx":(e,t,n)=>{n.d(t,{Z:()=>s});var a=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(n("../node_modules/react/index.js"),n("./app/components/loadingMask.tsx")),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const s=(0,a.Z)((({className:e,visible:t,children:n,...a})=>{const s=t?{...a,"data-test-id":"loading-placeholder"}:a;return(0,o.tZ)(r.Z,{className:e,...s,children:n})}),{target:"ewtkxp50"})((e=>!e.visible&&"display: none;"),";opacity:0.4;z-index:1;")},"./app/components/links/listLink.tsx":(e,t,n)=>{n.d(t,{Z:()=>p});var a=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),s=n("../node_modules/react-router/es/index.js"),i=n("../node_modules/classnames/index.js"),l=n.n(i),d=n("../node_modules/lodash/omit.js"),c=n.n(d),u=n("../node_modules/query-string/index.js"),g=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class m extends o.Component{constructor(...e){super(...e),(0,a.Z)(this,"getClassName",(()=>{const e={},{className:t,activeClassName:n}=this.props;return t&&(e[t]=!0),this.isActive()&&n&&(e[n]=!0),l()(e)}))}isActive(){const{isActive:e,to:t,query:n,index:a,router:r}=this.props,o=n?u.parse(n):void 0,s="string"==typeof t?{pathname:t,query:o}:t;return"function"==typeof e?e(s,a):r.isActive(s,a)}render(){const{index:e,children:t,to:n,disabled:a,...r}=this.props,o=c()(r,"activeClassName","css","isActive","index","router","location");return(0,g.tZ)(h,{className:this.getClassName(),disabled:a,children:(0,g.tZ)(s.Link,{...o,onlyActiveOnIndex:e,to:a?"":n,children:t})})}}m.displayName="ListLink",(0,a.Z)(m,"displayName","ListLink"),(0,a.Z)(m,"defaultProps",{activeClassName:"active",index:!1,disabled:!1});const p=(0,s.withRouter)(m),h=(0,r.Z)("li",{shouldForwardProp:e=>"disabled"!==e,target:"er8tqc10"})((e=>e.disabled&&"\n   a {\n    color:".concat(e.theme.disabled," !important;\n    pointer-events: none;\n    :hover {\n      color: ").concat(e.theme.disabled,"  !important;\n    }\n   }\n")),";")},"./app/views/performance/transactionSummary/transactionTags/index.tsx":(e,t,n)=>{n.r(t),n.d(t,{default:()=>Qe}),n("../node_modules/core-js/modules/es.string.trim.js");var a=n("./app/locale.tsx"),r=n("./app/utils/discover/eventView.tsx"),o=n("./app/utils/queryString.tsx"),s=n("./app/utils/tokenizeSearch.tsx"),i=n("./app/utils/withOrganization.tsx"),l=n("./app/utils/withProjects.tsx"),d=n("./app/views/performance/transactionSummary/pageLayout.tsx"),c=n("./app/views/performance/transactionSummary/tabs.tsx"),u=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),g=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.string.replace.js"),n("../node_modules/react/index.js")),m=n("../node_modules/react-router/es/index.js"),p=n("./app/components/charts/styles.tsx"),h=n("./app/components/events/searchBar.tsx"),y=n("./app/components/layouts/thirds.tsx"),f=n("./app/components/loadingIndicator.tsx"),v=n("./app/components/organizations/globalSelectionHeader/getParams.tsx"),Z=n("./app/components/questionTooltip.tsx"),w=n("./app/components/radio.tsx"),x=n("./app/styles/space.tsx"),b=n("./app/utils/performance/segmentExplorer/segmentExplorerQuery.tsx"),k=n("./app/views/performance/transactionSummary/utils.tsx"),C=n("./app/views/performance/transactionSummary/filter.tsx"),j=n("./app/views/performance/transactionSummary/transactionOverview/tagExplorer.tsx"),S=n("./app/utils/discover/genericDiscoverQuery.tsx"),q=n("./app/utils/withApi.tsx"),A=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function _(e){const{aggregateColumn:t}=e;return function(n){const{eventView:a}=n,r=a.getEventsAPIPayload(n.location);return r.aggregateColumn=t,r.sort=e.sort,r.tagKey=e.tagKey,r.numBucketsPerKey=e.numBucketsPerKey,r}}function M(e,t){return e.aggregateColumn!==t.aggregateColumn||e.sort!==t.sort||e.tagKey!==t.tagKey}function L(e){return(0,A.tZ)(S.ZP,{route:"events-facets-performance-histogram",getRequestPayload:_(e),shouldRefetchData:M,...e})}L.displayName="TagKeyHistogramQuery";const T=(0,q.Z)(L);var P=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),B=(n("../node_modules/core-js/modules/es.array.reverse.js"),n("../node_modules/react-dom/index.js")),N=n("../node_modules/react-popper/lib/esm/Popper.js"),D=n("../node_modules/@sentry/utils/esm/string.js"),V=n("../node_modules/classnames/index.js"),z=n.n(V),X=n("../node_modules/lodash/memoize.js"),R=n.n(X);n("./app/components/charts/components/visualMap.tsx"),n("../node_modules/echarts/lib/chart/heatmap.js"),n("../node_modules/echarts/lib/component/visualMap.js");var F=n("./app/components/charts/baseChart.tsx");const E=g.forwardRef(((e,t)=>{const{series:n,seriesOptions:a,visualMaps:r,...o}=e;return(0,A.tZ)(F.Z,{ref:t,options:{visualMap:r},...o,series:n.map((({seriesName:e,data:t,dataArray:n,...r})=>function(e={}){const{data:t,...n}=e;return{data:t,...n,type:"heatmap"}}({...a,...r,name:e,data:n||t.map((({value:e,name:t})=>[t,e]))})))})}));var I=n("./app/components/charts/transitionChart.tsx"),K=n("./app/components/charts/transparentLoadingMask.tsx"),O=n("./app/components/dropdownControl.tsx"),H=n("./app/components/dropdownMenu.tsx"),Q=n("./app/components/panels/index.tsx"),W=n("./app/components/placeholder.tsx"),Y=n("./app/components/quickTrace/styles.tsx"),G=n("./app/components/truncate.tsx"),U=n("./app/utils/discover/charts.tsx"),$=n("./app/utils/formatters.tsx"),J=n("./app/utils/getDynamicText.tsx");function ee(e,t){return e.query!==t.query}function te(e){return(0,A.tZ)(S.ZP,{route:"eventsv2",shouldRefetchData:ee,...e})}te.displayName="TagTransactionsQuery";const ne=(0,q.Z)(te);var ae=n("./app/views/performance/utils.tsx"),re=n("./app/views/performance/transactionSummary/transactionEvents/utils.tsx"),oe=n("./app/views/performance/transactionSummary/transactionTags/utils.tsx");class se{constructor(e){(0,P.Z)(this,"boundingRect",void 0),this.boundingRect=e.getBoundingClientRect()}getBoundingClientRect(){return this.boundingRect}get clientWidth(){return this.getBoundingClientRect().width}get clientHeight(){return this.getBoundingClientRect().height}}const ie=R()((()=>{let e=document.getElementById("heatmap-portal");return e||(e=document.createElement("div"),e.setAttribute("id","heatmap-portal"),document.body.appendChild(e)),e})),le=e=>{const{tableData:t,isLoading:n,organization:r,eventView:s,location:i,tagKey:l,transactionName:d,aggregateColumn:c}=e,u=(0,g.useRef)(null),[m,p]=(0,g.useState)(),[h,y]=(0,g.useState)(),[v,w]=(0,g.useState)(!1),b=["#D1BAFC","#9282F3","#6056BA","#313087","#021156"],C=new Set,j=t&&t.histogram&&t.histogram.data&&t.histogram.data.length?t.histogram.data:void 0,S=t&&t.tags&&t.tags.data?t.tags.data:void 0,q=j&&(_=j[0],Object.keys(_).find((e=>e.includes("histogram"))));var _;const M=S?S.map((e=>e.tags_value)).reverse():[];let L=0;const T=q&&j?j.map((e=>{const t=e[q],n=(0,ae.YL)(t),a=e.tags_value;return C.add(n),L=Math.max(L,e.count),[n,a,e.count]})):null;T&&T.sort(((e,t)=>e[0]===t[0]?t[1]-e[1]:t[0]-e[0]));const P={height:290,animation:!1,colors:b,tooltip:{},yAxis:{type:"category",data:Array.from(M),splitArea:{show:!0},axisLabel:{formatter:e=>(0,D.$G)(e,30)}},xAxis:{boundaryGap:!0,type:"category",splitArea:{show:!0},data:Array.from(C),axisLabel:{show:!0,showMinLabel:!0,showMaxLabel:!0,formatter:e=>(0,U.gu)(e,"Count")},axisLine:{},axisPointer:{show:!1},axisTick:{show:!0,interval:0,alignWithLabel:!0}},grid:{left:(0,x.Z)(3),right:(0,x.Z)(3),top:"25px",bottom:(0,x.Z)(4)}},V=[{min:0,max:L,show:!1,orient:"horizontal",calculable:!0,inRange:{color:b}}],X=[];T&&X.push({seriesName:"Count",dataArray:T,label:{show:!0,formatter:e=>(0,$.Du)(e.value[2])},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}});const R=j&&(0,oe.oT)(j[0]);return(0,A.BX)(me,{children:[(0,A.BX)(pe,{children:[(0,a.t)("Heat Map"),(0,A.tZ)(Z.Z,{size:"sm",position:"top",title:(0,a.t)("This heatmap shows the frequency for each duration across the most common tag values")})]}),(0,A.BX)(I.Z,{loading:n,reloading:n,children:[(0,A.tZ)(K.Z,{visible:n}),(0,A.tZ)(H.Z,{onOpen:()=>{w(!0)},onClose:()=>{w(!1)},shouldIgnoreClickOutside:e=>{var t;return!(null===(t=u.current)||void 0===t||!t.getEchartsInstance().getDom().contains(e.target))},children:({isOpen:e,getMenuProps:t,actions:n})=>(0,A.BX)(g.Fragment,{children:[B.createPortal((0,A.tZ)("div",{children:m?(0,A.tZ)(N.ZP,{referenceElement:m,placement:"bottom",children:({ref:n,style:s,placement:l})=>(0,A.tZ)(ue,{ref:n,style:s,className:"anchor-middle","data-placement":l,children:(0,A.tZ)(ge,{...t({className:z()("dropdown-menu")}),isOpen:e,alignMenu:"right",blendCorner:!1,children:h?(0,A.tZ)(ne,{query:h.getQueryWithAdditionalConditions(),location:i,eventView:h,orgSlug:r.slug,limit:4,referrer:"api.performance.tag-page",children:({isLoading:e,tableData:t})=>{const n=e?null:(0,re.xr)({orgSlug:r.slug,transaction:d,projectID:(0,o.ro)(i.query.project),query:{...h.generateQueryStringObject(),query:h.getQueryWithAdditionalConditions()}});return(0,A.tZ)(g.Fragment,{children:e?(0,A.tZ)(de,{children:(0,A.tZ)(f.Z,{size:40,hideMessage:!0})}):(0,A.BX)("div",{children:[t.data.length?null:(0,A.tZ)(W.Z,{}),[...t.data].slice(0,3).map((e=>{const t=(0,k.vd)(d)(r,e,i.query);return(0,A.tZ)(Y.hP,{width:"small",to:t,children:(0,A.BX)(ce,{children:[(0,A.tZ)(G.Z,{value:e.id,maxLength:12}),(0,A.tZ)(Y.df,{children:(0,A.tZ)(ae.Xr,{milliseconds:e[c],abbreviation:!0})})]})},e.id)})),n&&t.data.length>3?(0,A.tZ)(Y.hP,{width:"small",to:n,children:(0,A.tZ)(ce,{children:(0,a.t)("View all events")})}):null]})})}}):null})})}):null}),ie()),(0,J.Z)({value:(0,A.tZ)(E,{ref:u,visualMaps:V,series:X,onClick:e=>{const t=e.event.event,a=new se(t.target);p(a);const o=s.clone();o.fields=[{field:c}];const[i,d]=e.value;if(R&&j){const t=j[e.dataIndex],n=parseInt("".concat(t[R.histogramField]),10),a=n+R.bucketSize;o.additionalConditions.setFilterValues(c,[">=".concat(n),"<".concat(a)])}l&&o.additionalConditions.setFilterValues(l,[d]),y(o),(0,oe.bZ)(r),v||n.open()},...P}),fixed:(0,A.tZ)(W.Z,{height:"290px",testId:"skeleton-ui"})})]})})]})]})};le.displayName="TagsHeatMap";const de=(0,u.Z)("div",{target:"eoy5kj75"})({name:"kxllrv",styles:"width:200px;height:100px;display:flex;align-items:center;justify-content:center"}),ce=(0,u.Z)("div",{target:"eoy5kj74"})({name:"17wn5yb",styles:"width:100%;display:flex;flex-direction:row;justify-content:space-between"}),ue=(0,u.Z)(Y.DZ,{target:"eoy5kj73"})("z-index:",(e=>e.theme.zIndex.dropdown),";"),ge=(0,u.Z)(O.VY,{target:"eoy5kj72"})({name:"17pw1o7",styles:"right:auto;transform:translate(-50%);overflow:visible"}),me=(0,u.Z)(Q.s_,{target:"eoy5kj71"})("padding:",(0,x.Z)(3)," ",(0,x.Z)(3)," 0 ",(0,x.Z)(3),";margin-bottom:0;border-bottom:0;border-bottom-left-radius:0;border-bottom-right-radius:0;"),pe=(0,u.Z)(p.ws,{target:"eoy5kj70"})(""),he=le;var ye=n("./app/components/gridEditable/index.tsx"),fe=n("./app/components/gridEditable/sortLink.tsx"),ve=n("./app/components/links/link.tsx"),Ze=n("./app/components/pagination.tsx"),we=n("./app/icons/iconAdd.tsx"),xe=n("./app/utils/discover/fields.tsx"),be=n("./app/views/eventsV2/table/cellAction.tsx");const ke="tags_cursor";class Ce extends g.Component{constructor(...e){super(...e),(0,P.Z)(this,"state",{widths:[]}),(0,P.Z)(this,"renderHeadCellWithMeta",((e,t,n)=>(a,r)=>this.renderHeadCell(e,t,a,n[r]))),(0,P.Z)(this,"handleTagValueClick",((e,t,n)=>{const a=(0,o.ro)(e.query.query),r=new s.MY(null!=a?a:"");r.addFilterValues(t,[n]);const i=r.formatString();m.browserHistory.push({pathname:e.pathname,query:{...e.query,query:String(i).trim()}})})),(0,P.Z)(this,"handleCellAction",((e,t,n)=>a=>{const{eventView:r,location:o,organization:i}=this.props;(0,oe.bZ)(i);const l=new s.MY(r.query);l.removeFilter("event.type"),(0,be.rh)(l,a,{...e,name:n.id},t),m.browserHistory.push({pathname:o.pathname,query:{...o.query,[ke]:void 0,query:l.formatString()}})})),(0,P.Z)(this,"renderBodyCell",((e,t,n)=>{const r=n[t.key],{location:o,eventView:i,organization:l}=e;if("key"===t.key)return n.tags_key;const d=[be.eX.ADD,be.eX.EXCLUDE];if("tagValue"===t.key){const e={...n,id:n.tags_key};return(0,A.tZ)(be.ZP,{column:t,dataRow:e,handleCellAction:this.handleCellAction(t,n.tags_value,e),allowActions:d,children:(0,A.tZ)(j.xS,{row:n})})}if("frequency"===t.key)return(0,A.tZ)(Se,{children:(0,$.rl)(n.frequency,0)});if("action"===t.key){const e=new s.MY(i.query).hasFilter(n.tags_key);return(0,A.tZ)(ve.Z,{disabled:e,to:"",onClick:()=>{(0,oe.bZ)(l),this.handleTagValueClick(o,n.tags_key,n.tags_value)},children:(0,A.BX)(qe,{children:[(0,A.tZ)(we.N,{isCircled:!0}),(0,a.t)("Add to filter")]})})}if("comparison"===t.key){const e=n.comparison,t=(0,$.rl)(e-1,0);return e>1?(0,a.t)("+%s slower",t):(0,a.t)("%s faster",t)}return"aggregate"===t.key?(0,A.tZ)(Se,{children:(0,A.tZ)(ae.Xr,{abbreviation:!0,milliseconds:n.aggregate})}):"sumdelta"===t.key?(0,A.tZ)(Se,{children:(0,A.tZ)(ae.Xr,{abbreviation:!0,milliseconds:n.sumdelta})}):"count"===t.key?(0,A.tZ)(Se,{children:r}):r})),(0,P.Z)(this,"renderBodyCellWithData",(e=>(t,n)=>this.renderBodyCell(e,t,n))),(0,P.Z)(this,"handleResizeColumn",((e,t)=>{const n=[...this.state.widths];n[e]=t.width?Number(t.width):ye.z7,this.setState({widths:n})}))}renderHeadCell(e,t,n,a){const{location:r}=this.props,o=(0,xe.qG)(n.key,n.type,t),s={field:n.key,width:n.width},i=e.sortForField(s,t),l=i?i.kind:void 0;return(0,A.tZ)(fe.Z,{align:o,title:a.name,direction:l,canSort:!0,generateSortLink:function(){if(!t)return;const n=e.sortOnField(s,t),{sort:a}=n.generateQueryStringObject();return{...r,query:{...r.query,[ke]:void 0,tagSort:a}}}})}render(){const{eventView:e,tagKey:t,location:n,isLoading:a,tableData:r,aggregateColumn:o,pageLinks:s,onCursor:i}=this.props,l=[...Ae].map((e=>{const n={...e};return"tagValue"===e.key&&t&&(n.name=t),"aggregate"===e.key&&"measurements.lcp"===o&&(n.name="Avg LCP"),n}));return(0,A.BX)(je,{children:[(0,A.tZ)(ye.ZP,{isLoading:a,data:r&&r.data?r.data:[],columnOrder:l,columnSortBy:[],grid:{renderHeadCell:this.renderHeadCellWithMeta(e,r?r.meta:{},l),renderBodyCell:this.renderBodyCellWithData(this.props),onResizeColumn:this.handleResizeColumn},location:n}),(0,A.tZ)(Ze.Z,{pageLinks:s,onCursor:i,size:"small"})]})}}Ce.displayName="TagValueTable";const je=(0,u.Z)("div",{target:"e1gt1k5a2"})({name:"122h187",styles:">div{border-top-left-radius:0;border-top-right-radius:0;}"}),Se=(0,u.Z)("div",{target:"e1gt1k5a1"})({name:"2qga7i",styles:"text-align:right"}),qe=(0,u.Z)("div",{target:"e1gt1k5a0"})("display:grid;grid-auto-flow:column;grid-gap:",(0,x.Z)(.5),";justify-content:flex-end;align-items:center;"),Ae=[{key:"tagValue",field:"tagValue",name:"Tag Values",width:-1,column:{kind:"field"}},{key:"frequency",field:"frequency",name:"Frequency",width:-1,column:{kind:"field"},canSort:!0},{key:"count",field:"count",name:"Events",width:-1,column:{kind:"field"},canSort:!0},{key:"aggregate",field:"aggregate",name:"Avg Duration",width:-1,column:{kind:"field"},canSort:!0},{key:"action",field:"action",name:"",width:-1,column:{kind:"field"}}],_e=e=>{var t;const{eventView:n,location:a,organization:s,projects:i,tagKey:l}=e,d=n.clone(),c=(0,j.e2)(C.f1.None,i,d),u=(e,t,n)=>m.browserHistory.push({pathname:t,query:{...n,tableCursor:e}}),p=(0,o.ro)(null===(t=a.query)||void 0===t?void 0:t.tableCursor),h=(0,oe.oc)(a),y=(0,r.vp)(h);d.fields=Ae;const f=d.withSorts(y.length?y:[{field:"frequency",kind:"desc"}]);return(0,A.tZ)(g.Fragment,{children:l?(0,A.BX)(g.Fragment,{children:[(0,A.tZ)(T,{eventView:d,orgSlug:s.slug,location:a,aggregateColumn:c,numBucketsPerKey:40,tagKey:l,limit:8,cursor:p,sort:null!=h?h:"-sumdelta",children:({isLoading:t,tableData:n})=>(0,A.tZ)(he,{...e,tagKey:l,aggregateColumn:c,tableData:n,isLoading:t})}),(0,A.tZ)(b.Z,{eventView:f,orgSlug:s.slug,location:a,aggregateColumn:c,tagKey:l,limit:8,cursor:p,sort:h,allTagKeys:!0,children:({isLoading:t,tableData:n,pageLinks:a})=>(0,A.tZ)(Ce,{...e,eventView:f,tagKey:l,aggregateColumn:c,pageLinks:a,tableData:n,isLoading:t,onCursor:u})})]}):(0,A.BX)(g.Fragment,{children:[(0,A.tZ)(he,{...e,aggregateColumn:c,tableData:null,isLoading:!1}),(0,A.tZ)(Ce,{...e,pageLinks:null,aggregateColumn:c,tableData:null,isLoading:!1})]})})};_e.displayName="TagsDisplay";const Me=_e,Le=e=>{const{eventView:t,location:n,organization:a,projects:r}=e,o=(0,j.e2)(C.f1.None,r,t);return(0,A.tZ)(y.or,{fullWidth:!0,children:(0,A.tZ)(b.Z,{eventView:t,orgSlug:a.slug,location:n,aggregateColumn:o,limit:20,sort:"-sumdelta",allTagKeys:!0,children:({isLoading:t,tableData:n})=>(0,A.tZ)(Te,{...e,isLoading:t,tableData:n})})})};Le.displayName="TagsPageContent";const Te=e=>{const{eventView:t,location:n,organization:a,tableData:r,isLoading:s}=e,i=t.clone(),l=r?function(e){const t=[],n=[];return e.data.forEach((e=>{(e.comparison>1?t:n).push(e.tags_key)})),{suspectTags:t,otherTags:n}}(r):null,d=l?l.suspectTags:[],c=l?l.otherTags:[],u=(0,oe.Zn)(n),p=[...d,...c],h=u?p.find((e=>e===u)):void 0,y=p.length?p[0]:void 0,f=null!=h?h:y,[Z,w]=(0,g.useState)(f),x=e=>{const t=(0,v.Q)({...n.query||{},tagKey:e});m.browserHistory.replace({pathname:n.pathname,query:t}),w(e)};(0,g.useEffect)((()=>{f&&x(f)}),[f]),Z&&i.additionalConditions.setFilterValues("has",[Z]);const b=(0,o.ro)(n.query.query,"");return(0,A.BX)(ze,{children:[(0,A.tZ)(Pe,{suspectTags:d,otherTags:c,tagSelected:Z,changeTag:e=>x(e),isLoading:s}),(0,A.BX)(Re,{children:[(0,A.tZ)(Ee,{children:(0,A.tZ)(Fe,{organization:a,projectIds:i.project,query:b,fields:i.fields,onSearch:e=>{const t=(0,v.Q)({...n.query||{},query:e});m.browserHistory.push({pathname:n.pathname,query:t})}})}),(0,A.tZ)(Me,{...e,tagKey:Z})]})]})};Te.displayName="InnerContent";const Pe=e=>{const{suspectTags:t,otherTags:n,changeTag:r,tagSelected:o,isLoading:s}=e;return(0,A.BX)(Xe,{children:[(0,A.BX)(Ve,{children:[(0,a.t)("Suspect Tags"),(0,A.tZ)(Z.Z,{position:"top",title:(0,a.t)("Suspect tags are tags that often correspond to slower transaction"),size:"sm"})]}),s?(0,A.tZ)(Be,{children:(0,A.tZ)(f.Z,{mini:!0})}):t.length?t.map((e=>(0,A.BX)(Ne,{children:[(0,A.tZ)(w.Z,{"aria-label":e,checked:o===e,onChange:()=>r(e)}),(0,A.tZ)(De,{className:"truncate",children:e})]},e))):(0,A.tZ)("div",{children:(0,a.t)("No tags detected.")}),(0,A.tZ)(k.uI,{}),(0,A.BX)(Ve,{children:[(0,a.t)("Other Tags"),(0,A.tZ)(Z.Z,{position:"top",title:(0,a.t)("Other common tags for this transaction"),size:"sm"})]}),s?(0,A.tZ)(Be,{children:(0,A.tZ)(f.Z,{mini:!0})}):n.length?n.map((e=>(0,A.BX)(Ne,{children:[(0,A.tZ)(w.Z,{"aria-label":e,checked:o===e,onChange:()=>r(e)}),(0,A.tZ)(De,{className:"truncate",children:e})]},e))):(0,A.tZ)("div",{children:(0,a.t)("No tags detected.")})]})};Pe.displayName="TagsSideBar";const Be=(0,u.Z)("div",{target:"e5m8yi88"})({name:"1wnowod",styles:"display:flex;align-items:center;justify-content:center"}),Ne=(0,u.Z)("label",{target:"e5m8yi87"})("cursor:pointer;margin-bottom:",(0,x.Z)(1),";font-weight:normal;display:grid;grid-auto-flow:column;grid-auto-columns:max-content 1fr;align-items:center;grid-gap:",(0,x.Z)(1),";"),De=(0,u.Z)("span",{target:"e5m8yi86"})({name:"1d3w5wq",styles:"width:100%"}),Ve=(0,u.Z)(p.OT,{target:"e5m8yi85"})("margin-bottom:",(0,x.Z)(2),";"),ze=(0,u.Z)("div",{target:"e5m8yi84"})("margin:0;background-color:",(e=>e.theme.background),";flex-grow:1;@media (min-width: ",(e=>e.theme.breakpoints[1]),"){display:grid;grid-template-columns:auto 66%;align-content:start;grid-gap:",(0,x.Z)(3),";}@media (min-width: ",(e=>e.theme.breakpoints[2]),"){grid-template-columns:225px minmax(100px, auto);}"),Xe=(0,u.Z)("div",{target:"e5m8yi83"})({name:"sarfoe",styles:"grid-column:1/2"}),Re=(0,u.Z)("div",{target:"e5m8yi82"})({name:"g99mcu",styles:"grid-column:2/4;max-width:100%"}),Fe=(0,u.Z)(h.Z,{target:"e5m8yi81"})({name:"1ff36h2",styles:"flex-grow:1"}),Ee=(0,u.Z)("div",{target:"e5m8yi80"})("margin-bottom:",(0,x.Z)(1),";"),Ie=Le;function Ke(e){const{location:t,organization:n,projects:a}=e;return(0,A.tZ)(d.Z,{location:t,organization:n,projects:a,tab:c.Z.Tags,getDocumentTitle:Oe,generateEventView:He,childComponent:Ie,features:["performance-tag-page"]})}function Oe(e){return"string"==typeof e&&String(e).trim().length>0?[String(e).trim(),(0,a.t)("Tags")].join(" — "):[(0,a.t)("Summary"),(0,a.t)("Tags")].join(" — ")}function He(e,t){const n=(0,o.ro)(e.query.query,""),a=new s.MY(n);return a.setFilterValues("event.type",["transaction"]).setFilterValues("transaction",[t]),r.ZP.fromNewQueryWithLocation({id:void 0,version:2,name:t,fields:["transaction.duration"],query:a.formatString(),projects:[]},e)}Ke.displayName="TransactionTags";const Qe=(0,l.Z)((0,i.Z)(Ke))},"../node_modules/downsample/methods/ASAP.js":(e,t)=>{function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var a={"PointValueExtractor<unknown>":e=>"function"==typeof e,XYDataPoint:e=>null!=e&&a.X(e.x)&&"number"==typeof e.y,X:e=>"number"==typeof e||e instanceof Date},r=e=>{for(var t=0,n=0;n<e.length;n+=1)t+=e[n];return t/e.length},o=(e,t)=>{for(var n=e.length,a=new Array(n),r=0;r<n;r++)a[r]=t(e[r],r);return a},s=e=>a["PointValueExtractor<unknown>"](e)?e:t=>t[e],i=(e,t)=>({x:e,y:t}),l=()=>({x:e=>{var t=a.XYDataPoint(e)?e.x:e[0];return t instanceof Date?t.getTime():t},y:e=>"y"in e?e.y:e[1],toPoint:i}),d=(e,t)=>new e.constructor(t),c=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=[],r=0,o=0;o<t;o++)r+=e[o];for(var s=t;s<=e.length;s++)(s-t)%n==0&&a.push(r/t),r+=e[s]-e[s-t];return a},u=e=>{var t=s(e.x),n=s(e.y),a=e.toPoint;return function(e,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0===e.length)return e;for(var i,l=o(e,n),c=o(e,t),u=d(e,0),g=0,m=0;m<r;m++)g+=l[m];for(var p=r;p<=l.length;p++)(p-r)%s==0&&(i=a((c[p-r]+c[p-1])/2,g/r,p-r),u[u.length]=i),g+=l[p]-l[p-r];return u}};function g(e,t){if(e.length!=t.length)throw"Mismatched lengths";var n=e.length;0!=n&&(0==(n&n-1)?function(e,t){if(e.length!=t.length)throw"Mismatched lengths";var n=e.length;if(1!=n){for(var a=-1,r=0;r<32;r++)1<<r==n&&(a=r);if(-1==a)throw"Length is not a power of 2";for(var o=new Array(n/2),s=new Array(n/2),i=0;i<n/2;i++)o[i]=Math.cos(2*Math.PI*i/n),s[i]=Math.sin(2*Math.PI*i/n);for(var l=0;l<n;l++){var d=p(l,a);if(d>l){var c=e[l];e[l]=e[d],e[d]=c,c=t[l],t[l]=t[d],t[d]=c}}for(var u=2;u<=n;u*=2)for(var g=u/2,m=n/u,h=0;h<n;h+=u)for(var y=h,f=0;y<h+g;y++,f+=m){var v=e[y+g]*o[f]+t[y+g]*s[f],Z=-e[y+g]*s[f]+t[y+g]*o[f];e[y+g]=e[y]-v,t[y+g]=t[y]-Z,e[y]+=v,t[y]+=Z}}}(e,t):function(e,t){if(e.length!=t.length)throw"Mismatched lengths";for(var n=e.length,a=1;a<2*n+1;)a*=2;for(var r=new Array(n),o=new Array(n),s=0;s<n;s++){var i=s*s%(2*n);r[s]=Math.cos(Math.PI*i/n),o[s]=Math.sin(Math.PI*i/n)}for(var l=new Array(a),d=new Array(a),c=0;c<n;c++)l[c]=e[c]*r[c]+t[c]*o[c],d[c]=-e[c]*o[c]+t[c]*r[c];for(var u=n;u<a;u++)l[u]=d[u]=0;var p=new Array(a),h=new Array(a);p[0]=r[0],h[0]=o[0];for(var y=1;y<n;y++)p[y]=p[a-y]=r[y],h[y]=h[a-y]=o[y];for(var f=n;f<=a-n;f++)p[f]=h[f]=0;var v=new Array(a),Z=new Array(a);!function(e,t,n,a,r,o){if(e.length!=t.length||e.length!=n.length||n.length!=a.length||e.length!=r.length||r.length!=o.length)throw"Mismatched lengths";var s=e.length;e=e.slice(),t=t.slice(),n=n.slice(),a=a.slice(),g(e,t),g(n,a);for(var i=0;i<s;i++){var l=e[i]*n[i]-t[i]*a[i];t[i]=t[i]*n[i]+e[i]*a[i],e[i]=l}m(e,t);for(var d=0;d<s;d++)r[d]=e[d]/s,o[d]=t[d]/s}(l,d,p,h,v,Z);for(var w=0;w<n;w++)e[w]=v[w]*r[w]+Z[w]*o[w],t[w]=-v[w]*o[w]+Z[w]*r[w]}(e,t))}function m(e,t){g(t,e)}function p(e,t){for(var n=0,a=0;a<t;a++)n=n<<1|1&e,e>>>=1;return n}u(l());var h,y,f,v=e=>(e=>{for(var t=r(e),n=0,a=0;a<e.length;a+=1)n+=(e[a]-t)*(e[a]-t);return Math.sqrt(n/e.length)})((e=>{var t=e.length-1;if(t<1)return[];for(var n=new Array(t),a=0;a<t;a++)n[a]=e[a+1]-e[a];return n})(e)),Z=e=>{for(var t,n,a=e.length,o=r(e),s=0,i=0,l=0;l<a;l++)s+=(n=(t=e[l]-o)*t)*n,i+=n;return a*s/(i*i)},w=(h=l(),y=s(h.y),f=u(h),function e(t,a){if(0===t.length)return t;if(a<=0)throw new Error("Supplied non-positive resolution parameter to ASAP: ".concat(a));if(t.length>=2*a){var s=Math.trunc(t.length/a);return e(f(t,s,s),a)}for(var i=o(t,y),l=((e,t)=>{for(var a=e.length,o=r(e),s=Math.pow(2,Math.trunc(Math.log2(a))+1),i=new Array(s).fill(0),l=new Array(s).fill(0),d=0;d<a;d+=1)i[d]=e[d]-o;g(i,l);for(var c=0;c<i.length;c+=1)i[c]=Math.pow(i[c],2)+Math.pow(l[c],2),l[c]=0;m(i,l);for(var u=[],p=1;p<t;p++)u[p]=i[p]/i[0];var h=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n=e.length;if(n<=1)return[[],0];var a=0,r=[];if(e.length>1)for(var o=e[1]>e[0],s=1,i=2;i<e.length;i+=1)!o&&e[i]>e[i-1]?(s=i,o=!o):o&&e[i]>e[s]?s=i:o&&e[i]<e[i-1]&&(s>1&&e[s]>t&&(r.push(s),e[s]>a&&(a=e[s])),o=!o);if(r.length<=1)for(var l=2;l<n;l+=1)r.push(l);return[r,a]}(u),2);return{correlations:u,peaks:h[0],maxCorrelation:h[1]}})(i,Math.round(i.length/10)),d=l.correlations,u=l.peaks,p=l.maxCorrelation,h=Z(i),w=v(i),x=1,b=1,k=-1,C=i.length/10,j=u.length-1;j>=0;j-=1){var S=u[j];if(S<b||1===S)break;if(!(Math.sqrt(1-d[S])*x>Math.sqrt(1-d[x])*S)){var q=c(i,S,1),A=Z(q),_=v(q);A>=h&&(_<w&&(w=_,x=S),b=Math.round(Math.max(S*Math.sqrt((p-1)/(d[S]-1)),b)),k<0&&(k=j))}}return k>0&&(k<u.length-2&&(C=u[k+1]),b=Math.max(b,u[k]+1)),x=((e,t,n,a,r,o)=>{for(;e<=t;){var s=Math.round((e+t)/2),i=c(n,s,1);if(Z(i)>=r){var l=v(i);l<a&&(o=s,a=l),e=s+1}else t=s-1}return o})(b,C,i,w,h,x),f(t,x,1)});t.Cl=w}}]);
//# sourceMappingURL=../sourcemaps/app_components_links_listLink_tsx-app_views_performance_transactionSummary_transactionTags_in-e952e0.acd60e1a16b67a19957c627aa0707741.js.map