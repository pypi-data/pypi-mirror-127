"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_views_settings_projectProguard_index_tsx"],{"./app/components/acl/role.tsx":(e,t,s)=>{s.d(t,{Z:()=>l});var n=s("../node_modules/react/index.js"),o=s("./app/stores/configStore.tsx"),r=s("./app/utils/isActiveSuperuser.tsx"),i=s("./app/utils/isRenderFunc.tsx"),a=s("./app/utils/withOrganization.tsx");class p extends n.Component{hasRole(){var e;const t=o.Z.get("user"),{organization:s,role:n}=this.props,{availableRoles:i}=s,a=null!==(e=s.role)&&void 0!==e?e:"";if(!t)return!1;if((0,r.M)())return!0;if(!Array.isArray(i))return!1;const p=i.map((e=>e.id));if(!p.includes(n)||!p.includes(a))return!1;const l=p.indexOf(n);return p.indexOf(a)>=l}render(){const{children:e}=this.props,t=this.hasRole();return(0,i.l)(e)?e({hasRole:t}):t&&e?e:null}}p.displayName="Role";const l=(0,a.Z)(p)},"./app/components/fileSize.tsx":(e,t,s)=>{s.d(t,{Z:()=>l});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("./app/utils.tsx"),r=s("./app/utils/getDynamicText.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){const{className:t,bytes:s}=e;return(0,i.tZ)(p,{className:t,children:(0,r.Z)({value:(0,o.F)(s),fixed:"xx KB"})})}a.displayName="FileSize";const p=(0,n.Z)("span",{target:"e1xn0mc30"})({name:"kow0uz",styles:"font-variant-numeric:tabular-nums"}),l=a},"./app/utils/isActiveSuperuser.tsx":(e,t,s)=>{s.d(t,{M:()=>i});var n=s("../node_modules/js-cookie/src/js.cookie.js"),o=s.n(n),r=s("./app/stores/configStore.tsx");function i(){const{isSuperuser:e}=r.Z.get("user")||{};return!(!e||(o().set("su","test"),void 0!==o().get("su")))}},"./app/utils/routeTitle.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});const n=function(e,t,s=!0,n){const o="".concat(e," - ").concat(t),r=n?"".concat(o," - ").concat(n):o;return s?"".concat(r," - Sentry"):r}},"./app/views/asyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>a}),s("../node_modules/react/index.js");var n=s("../node_modules/react-document-title/index.js"),o=s.n(n),r=s("./app/components/asyncComponent.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class a extends r.Z{getTitle(){return""}render(){const e=this.getTitle();return(0,i.tZ)(o(),{title:"".concat(e?"".concat(e," - "):"","Sentry"),children:this.renderComponent()})}}a.displayName="AsyncView"},"./app/views/settings/projectProguard/index.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>A});var n=s("../node_modules/react/index.js"),o=s("./app/utils/withOrganization.tsx"),r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./app/components/links/externalLink.tsx")),p=s("./app/components/pagination.tsx"),l=s("./app/components/panels/index.tsx"),d=s("./app/components/searchBar.tsx"),c=s("./app/locale.tsx"),m=s("./app/utils/routeTitle.tsx"),u=s("./app/views/asyncView.tsx"),g=s("./app/views/settings/components/settingsPageHeader.tsx"),h=s("./app/views/settings/components/text/textBlock.tsx"),x=s("./app/components/acl/access.tsx"),Z=s("./app/components/acl/role.tsx"),y=s("./app/components/button.tsx"),f=s("./app/components/buttonBar.tsx"),j=s("./app/components/confirm.tsx"),v=s("./app/components/fileSize.tsx"),b=s("./app/components/timeSince.tsx"),w=s("./app/components/tooltip.tsx"),z=s("./app/icons/index.tsx"),S=s("./app/styles/space.tsx"),_=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const k=({mapping:e,onDelete:t,downloadUrl:s,downloadRole:o})=>{const{id:r,debugId:i,uuid:a,size:p,dateCreated:l}=e,d=()=>{t(r)};return(0,_.BX)(n.Fragment,{children:[(0,_.BX)(P,{children:[(0,_.tZ)(q,{children:i||a||"(".concat((0,c.t)("empty"),")")}),(0,_.BX)(B,{children:[(0,_.tZ)(z.jo,{size:"sm"}),(0,_.tZ)(b.Z,{date:l})]})]}),(0,_.tZ)(R,{children:(0,_.tZ)(v.Z,{bytes:p})}),(0,_.tZ)(M,{children:(0,_.BX)(f.ZP,{gap:.5,children:[(0,_.tZ)(Z.Z,{role:o,children:({hasRole:e})=>(0,_.tZ)(w.Z,{title:(0,c.t)("You do not have permission to download mappings."),disabled:e,children:(0,_.tZ)(y.ZP,{size:"small",icon:(0,_.tZ)(z.Dj,{size:"sm"}),disabled:!e,href:s,title:e?(0,c.t)("Download Mapping"):void 0})})}),(0,_.tZ)(x.Z,{access:["project:releases"],children:({hasAccess:e})=>(0,_.tZ)(w.Z,{disabled:e,title:(0,c.t)("You do not have permission to delete mappings."),children:(0,_.tZ)(j.Z,{message:(0,c.t)("Are you sure you want to remove this mapping?"),onConfirm:d,disabled:!e,children:(0,_.tZ)(y.ZP,{size:"small",icon:(0,_.tZ)(z.Fz,{size:"sm"}),title:e?(0,c.t)("Remove Mapping"):void 0,label:(0,c.t)("Remove Mapping"),disabled:!e})})})})]})})]})};k.displayName="ProjectProguardRow";const P=(0,i.Z)("div",{target:"e1llzagh4"})({name:"1ij1o5n",styles:"display:flex;flex-direction:column;align-items:flex-start;justify-content:center"}),R=(0,i.Z)("div",{target:"e1llzagh3"})({name:"ivtwc8",styles:"display:flex;justify-content:flex-end;text-align:right;align-items:center"}),M=(0,i.Z)(R,{target:"e1llzagh2"})(""),q=(0,i.Z)("div",{target:"e1llzagh1"})("padding-right:",(0,S.Z)(4),";overflow-wrap:break-word;word-break:break-all;"),B=(0,i.Z)("div",{target:"e1llzagh0"})("display:grid;grid-gap:",(0,S.Z)(.5),";grid-template-columns:min-content 1fr;font-size:",(e=>e.theme.fontSizeMedium),";align-items:center;color:",(e=>e.theme.subText),";margin-top:",(0,S.Z)(1),";"),C=k;class D extends u.Z{constructor(...e){super(...e),(0,r.Z)(this,"handleDelete",(e=>{const{orgId:t,projectId:s}=this.props.params;this.setState({loading:!0}),this.api.request("/projects/".concat(t,"/").concat(s,"/files/dsyms/?id=").concat(encodeURIComponent(e)),{method:"DELETE",complete:()=>this.fetchData()})})),(0,r.Z)(this,"handleSearch",(e=>{const{location:t,router:s}=this.props;s.push({...t,query:{...t.query,cursor:void 0,query:e}})}))}getTitle(){const{projectId:e}=this.props.params;return(0,m.Z)((0,c.t)("ProGuard Mappings"),e,!1)}getDefaultState(){return{...super.getDefaultState(),mappings:[]}}getEndpoints(){const{params:e,location:t}=this.props,{orgId:s,projectId:n}=e;return[["mappings","/projects/".concat(s,"/").concat(n,"/files/dsyms/"),{query:{query:t.query.query,file_formats:"proguard"}}]]}getQuery(){const{query:e}=this.props.location.query;return"string"==typeof e?e:void 0}getEmptyMessage(){return this.getQuery()?(0,c.t)("There are no mappings that match your search."):(0,c.t)("There are no mappings for this project.")}renderLoading(){return this.renderBody()}renderMappings(){const{mappings:e}=this.state,{organization:t,params:s}=this.props,{orgId:n,projectId:o}=s;return null!=e&&e.length?e.map((e=>{const s="".concat(this.api.baseUrl,"/projects/").concat(n,"/").concat(o,"/files/dsyms/?id=").concat(encodeURIComponent(e.id));return(0,_.tZ)(C,{mapping:e,downloadUrl:s,onDelete:this.handleDelete,downloadRole:t.debugFilesRole},e.id)})):null}renderBody(){const{loading:e,mappings:t,mappingsPageLinks:s}=this.state;return(0,_.BX)(n.Fragment,{children:[(0,_.tZ)(g.Z,{title:(0,c.t)("ProGuard Mappings"),action:(0,_.tZ)(d.Z,{placeholder:(0,c.t)("Filter mappings"),onSearch:this.handleSearch,query:this.getQuery(),width:"280px"})}),(0,_.tZ)(h.Z,{children:(0,c._N)("ProGuard mapping files are used to convert minified classes, methods and field names into a human readable format. To learn more about proguard mapping files, [link: read the docs].",{link:(0,_.tZ)(a.Z,{href:"https://docs.sentry.io/platforms/android/proguard/"})})}),(0,_.tZ)(T,{headers:[(0,c.t)("Mapping"),(0,_.tZ)(I,{children:(0,c.t)("File Size")},"size"),""],emptyMessage:this.getEmptyMessage(),isEmpty:0===(null==t?void 0:t.length),isLoading:e,children:this.renderMappings()}),(0,_.tZ)(p.Z,{pageLinks:s})]})}}const T=(0,i.Z)(l.KB,{target:"et988281"})({name:"qc2mzu",styles:"grid-template-columns:minmax(220px, 1fr) max-content 120px"}),I=(0,i.Z)("div",{target:"et988280"})({name:"2qga7i",styles:"text-align:right"}),F=D;class N extends n.Component{render(){return(0,_.tZ)(F,{...this.props})}}N.displayName="ProjectProguardContainer";const A=(0,o.Z)(N)}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_projectProguard_index_tsx.075f77357b5ddffb98e1b7b9a63a8edd.js.map