"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_views_settings_project_projectServiceHookDetails_tsx"],{"./app/views/asyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>a}),s("../node_modules/react/index.js");var o=s("../node_modules/react-document-title/index.js"),n=s.n(o),i=s("./app/components/asyncComponent.tsx"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class a extends i.Z{getTitle(){return""}render(){const e=this.getTitle();return(0,r.tZ)(n(),{title:"".concat(e?"".concat(e," - "):"","Sentry"),children:this.renderComponent()})}}a.displayName="AsyncView"},"./app/views/settings/project/projectServiceHookDetails.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>b});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),i=s("../node_modules/react-router/es/index.js"),r=s("./app/actionCreators/indicator.tsx"),a=s("./app/components/asyncComponent.tsx"),c=s("./app/components/button.tsx"),d=s("./app/components/charts/miniBarChart.tsx"),p=s("./app/components/errorBoundary.tsx"),l=s("./app/components/panels/index.tsx"),h=s("./app/icons/index.tsx"),m=s("./app/locale.tsx"),u=s("./app/utils/getDynamicText.tsx"),g=s("./app/views/asyncView.tsx"),x=s("./app/views/settings/components/emptyMessage.tsx"),Z=s("./app/views/settings/components/forms/field/index.tsx"),v=s("./app/views/settings/components/forms/textCopyInput.tsx"),y=s("./app/views/settings/components/settingsPageHeader.tsx"),j=s("./app/views/settings/project/serviceHookSettingsForm.tsx"),k=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class w extends a.Z{getEndpoints(){const e=Math.floor((new Date).getTime()/1e3),t=e-2592e3,{hookId:s,orgId:o,projectId:n}=this.props.params;return[["stats","/projects/".concat(o,"/").concat(n,"/hooks/").concat(s,"/stats/"),{query:{since:t,until:e,resolution:"1d"}}]]}renderBody(){const{stats:e}=this.state;if(null===e)return null;let t=!0;const s={seriesName:(0,m.t)("Events"),data:e.map((e=>(e.total&&(t=!1),{name:1e3*e.ts,value:e.total})))};return(0,k.BX)(l.s_,{children:[(0,k.tZ)(l.V9,{children:(0,m.t)("Events in the last 30 days (by day)")}),(0,k.tZ)(l.N,{withPadding:!0,children:t?(0,k.tZ)(x.Z,{title:(0,m.t)("Nothing recorded in the last 30 days."),description:(0,m.t)("Total webhooks fired for this configuration.")}):(0,k.tZ)(d.Z,{isGroupedByDate:!0,showTimeInTooltip:!0,labelYAxisExtents:!0,series:[s],height:150})})]})}}class b extends g.Z{constructor(...e){super(...e),(0,o.Z)(this,"onDelete",(()=>{const{orgId:e,projectId:t,hookId:s}=this.props.params;(0,r.E3)((0,m.t)("Saving changesâ€¦")),this.api.request("/projects/".concat(e,"/").concat(t,"/hooks/").concat(s,"/"),{method:"DELETE",success:()=>{(0,r.B8)(),i.browserHistory.push("/settings/".concat(e,"/projects/").concat(t,"/hooks/"))},error:()=>{(0,r.Iw)((0,m.t)("Unable to remove application. Please try again."))}})}))}getEndpoints(){const{orgId:e,projectId:t,hookId:s}=this.props.params;return[["hook","/projects/".concat(e,"/").concat(t,"/hooks/").concat(s,"/")]]}renderBody(){const{orgId:e,projectId:t,hookId:s}=this.props.params,{hook:o}=this.state;return o?(0,k.BX)(n.Fragment,{children:[(0,k.tZ)(y.Z,{title:(0,m.t)("Service Hook Details")}),(0,k.tZ)(p.Z,{children:(0,k.tZ)(w,{params:this.props.params})}),(0,k.tZ)(j.Z,{orgId:e,projectId:t,hookId:s,initialData:{...o,isActive:"disabled"!==o.status}}),(0,k.BX)(l.s_,{children:[(0,k.tZ)(l.V9,{children:(0,m.t)("Event Validation")}),(0,k.BX)(l.N,{children:[(0,k.BX)(l.aU,{type:"info",icon:(0,k.tZ)(h.Gy,{size:"md"}),children:["Sentry will send the ",(0,k.tZ)("code",{children:"X-ServiceHook-Signature"})," header built using"," ",(0,k.tZ)("code",{children:"HMAC(SHA256, [secret], [payload])"}),". You should always verify this signature before trusting the information provided in the webhook."]}),(0,k.tZ)(Z.Z,{label:(0,m.t)("Secret"),flexibleControlStateSize:!0,inline:!1,help:(0,m.t)("The shared secret used for generating event HMAC signatures."),children:(0,k.tZ)(v.Z,{children:(0,u.Z)({value:o.secret,fixed:"a dynamic secret value"})})})]})]}),(0,k.BX)(l.s_,{children:[(0,k.tZ)(l.V9,{children:(0,m.t)("Delete Hook")}),(0,k.tZ)(l.N,{children:(0,k.tZ)(Z.Z,{label:(0,m.t)("Delete Hook"),help:(0,m.t)("Removing this hook is immediate and permanent."),children:(0,k.tZ)("div",{children:(0,k.tZ)(c.ZP,{priority:"danger",onClick:this.onDelete,children:(0,m.t)("Delete Hook")})})})})]})]}):null}}}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_project_projectServiceHookDetails_tsx.8f9ffcba9fe7cd0dab7afd7637224da3.js.map