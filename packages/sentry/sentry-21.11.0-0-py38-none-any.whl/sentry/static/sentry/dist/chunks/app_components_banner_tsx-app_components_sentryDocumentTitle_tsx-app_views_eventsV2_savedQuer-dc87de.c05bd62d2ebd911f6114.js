"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_components_banner_tsx-app_components_sentryDocumentTitle_tsx-app_views_eventsV2_savedQuer-dc87de","app_components_sentryDocumentTitle_tsx"],{"./app/actionCreators/discoverSavedQueries.tsx":(e,t,a)=>{a.d(t,{Yi:()=>o,GH:()=>i,M6:()=>c,EQ:()=>d,qF:()=>u}),a("../node_modules/core-js/modules/es.string.trim.js");var s=a("./app/actionCreators/indicator.tsx"),n=a("./app/api.tsx"),r=a("./app/locale.tsx");function o(e,t,a){const n=e.requestPromise("/organizations/".concat(t,"/discover/saved/").concat(a,"/"),{method:"GET"});return n.catch((()=>{(0,s.Iw)((0,r.t)("Unable to load saved query"))})),n}function i(e,t,a){const n=e.requestPromise("/organizations/".concat(t,"/discover/saved/"),{method:"POST",data:a});return n.catch((()=>{(0,s.Iw)((0,r.t)("Unable to create your saved query"))})),n}function c(e,t,a){const n=e.requestPromise("/organizations/".concat(t,"/discover/saved/").concat(a.id,"/"),{method:"PUT",data:a});return n.catch((()=>{(0,s.Iw)((0,r.t)("Unable to update your saved query"))})),n}function d(e,t){return(new n.KU).requestPromise("/organizations/".concat(e,"/discover/saved/").concat(t,"/visit/"),{method:"POST"})}function u(e,t,a){const n=e.requestPromise("/organizations/".concat(t,"/discover/saved/").concat(a,"/"),{method:"DELETE"});return n.catch((()=>{(0,s.Iw)((0,r.t)("Unable to delete the saved query"))})),n}},"./app/components/banner.tsx":(e,t,a)=>{a.d(t,{Z:()=>w});var s=a("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=(a("../node_modules/core-js/modules/web.dom-collections.iterator.js"),a("../node_modules/react/index.js")),r=a("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),o=a("./app/components/button.tsx"),i=a("./app/components/buttonBar.tsx"),c=a("./app/icons/index.tsx"),d=a("./app/locale.tsx"),u=a("./app/styles/space.tsx"),l=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const v=e=>"".concat(e,"-banner-dismissed");function p(e){localStorage.setItem(v(e),"true")}const m=({title:e,subtitle:t,isDismissable:a=!0,dismissKey:s="generic-banner",className:r,backgroundImg:o,backgroundComponent:i,children:c})=>{const[u,m]=function(e){const t=v(e),[a,s]=n.useState(localStorage.getItem(t));return["true"===a,()=>{s("true"),p(e)}]}(s);return u?null:(0,l.BX)(y,{backgroundImg:o,className:r,children:[i,a?(0,l.tZ)(b,{onClick:m,"aria-label":(0,d.t)("Close")}):null,(0,l.BX)(_,{children:[(0,l.tZ)(g,{children:e}),(0,l.tZ)(q,{children:t}),(0,l.tZ)(h,{gap:1,children:c})]})]})};m.displayName="Banner",m.dismiss=p;const y=(0,s.Z)("div",{target:"e8az5815"})((e=>e.backgroundImg?(0,r.iv)("background:url(",e.backgroundImg,");background-repeat:no-repeat;background-size:cover;background-position:center center;",""):(0,r.iv)("background-color:",e.theme.gray500,";",""))," display:flex;overflow:hidden;align-items:center;justify-content:center;position:relative;margin-bottom:",(0,u.Z)(2),";box-shadow:",(e=>e.theme.dropShadowLight),";border-radius:",(e=>e.theme.borderRadius),";height:180px;color:",(e=>e.theme.white),";@media (min-width: ",(e=>e.theme.breakpoints[0]),"){height:220px;}"),_=(0,s.Z)("div",{target:"e8az5814"})("position:absolute;display:grid;justify-items:center;grid-template-rows:repeat(3, max-content);text-align:center;padding:",(0,u.Z)(4),";"),g=(0,s.Z)("h1",{target:"e8az5813"})("margin:0;@media (min-width: ",(e=>e.theme.breakpoints[0]),"){font-size:40px;}"),q=(0,s.Z)("div",{target:"e8az5812"})("margin:0;@media (min-width: ",(e=>e.theme.breakpoints[0]),"){font-size:",(e=>e.theme.fontSizeExtraLarge),";}"),h=(0,s.Z)(i.ZP,{target:"e8az5811"})("margin-top:",(0,u.Z)(2),";width:fit-content;"),b=(0,s.Z)(o.ZP,{target:"e8az5810"})("position:absolute;display:block;top:",(0,u.Z)(2),";right:",(0,u.Z)(2),";color:",(e=>e.theme.white),";cursor:pointer;z-index:1;");b.defaultProps={icon:(0,l.tZ)(c.bM,{}),label:(0,d.t)("Close"),priority:"link",borderless:!0,size:"xsmall"};const w=m},"./app/components/sentryDocumentTitle.tsx":(e,t,a)=>{a.d(t,{Z:()=>i}),a("../node_modules/react/index.js");var s=a("../node_modules/react-document-title/index.js"),n=a.n(s),r=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function o({title:e,orgSlug:t,projectSlug:a,children:s}){const o=t||a?t&&a?"".concat(e," - ").concat(t," - ").concat(a):t?"".concat(e," - ").concat(t):"".concat(e," - ").concat(a):e;return(0,r.tZ)(n(),{title:"".concat(o," - Sentry"),children:s})}o.displayName="SentryDocumentTitle";const i=o},"./app/views/dashboardsV2/types.tsx":(e,t,a)=>{a.d(t,{ZU:()=>s,FO:()=>n,n3:()=>r});const s=30;let n,r;!function(e){e.AREA="area",e.BAR="bar",e.LINE="line",e.TABLE="table",e.WORLD_MAP="world_map",e.BIG_NUMBER="big_number",e.STACKED_AREA="stacked_area",e.TOP_N="top_n"}(n||(n={})),function(e){e.VIEW="view",e.EDIT="edit",e.CREATE="create",e.PENDING_DELETE="pending_delete"}(r||(r={}))},"./app/views/eventsV2/savedQuery/utils.tsx":(e,t,a)=>{a.d(t,{b2:()=>d,O$:()=>v,pb:()=>p,Uc:()=>m,zz:()=>g});var s=a("./app/actionCreators/discoverSavedQueries.tsx"),n=a("./app/actionCreators/indicator.tsx"),r=a("./app/locale.tsx"),o=a("./app/utils/analytics.tsx"),i=a("./app/utils/discover/types.tsx"),c=a("./app/views/dashboardsV2/types.tsx");function d(e,t,a,i,c=!0){const d=a.toNewQuery();d.yAxis=i,(0,o.ec)({...y(c,"request"),organization_id:parseInt(t.id,10),..._(d)});const u=(0,s.GH)(e,t.slug,d);return u.then((e=>((0,n.S9)((0,r.t)("Query saved")),(0,o.ec)({...y(c,"success"),organization_id:parseInt(t.id,10),..._(d)}),e))).catch((e=>{(0,n.Iw)((0,r.t)("Query not saved")),(0,o.ec)({...y(c,"failed"),organization_id:parseInt(t.id,10),..._(d),error:e&&e.message||"Could not save a ".concat(c?"new":"existing"," query")})})),u}const u={request:"Discoverv2: Request to save a saved query as a new query",success:"Discoverv2: Successfully saved a saved query as a new query",failed:"Discoverv2: Failed to save a saved query as a new query"},l={request:"Discoverv2: Request to save a new query",success:"Discoverv2: Successfully saved a new query",failed:"Discoverv2: Failed to save a new query"};function v(e,t,a,i){const c=a.toNewQuery();if(c.yAxis=i,!a.name)return(0,n.Iw)((0,r.t)("Please name your query")),Promise.reject();(0,o.ec)({eventKey:"discover_v2.update_query_request",eventName:"Discoverv2: Request to update a saved query",organization_id:parseInt(t.id,10),..._(c)});const d=(0,s.M6)(e,t.slug,c);return d.then((e=>((0,n.S9)((0,r.t)("Query updated")),(0,o.ec)({eventKey:"discover_v2.update_query_success",eventName:"Discoverv2: Successfully updated a saved query",organization_id:parseInt(t.id,10),..._(c)}),e))).catch((e=>{(0,n.Iw)((0,r.t)("Query not updated")),(0,o.ec)({eventKey:"discover_v2.update_query_failed",eventName:"Discoverv2: Failed to update a saved query",organization_id:parseInt(t.id,10),..._(c),error:e&&e.message||"Failed to update a query"})})),d}function p(e,t,a){const i=a.toNewQuery();(0,o.ec)({eventKey:"discover_v2.update_query_name_request",eventName:"Discoverv2: Request to update a saved query's name",organization_id:parseInt(t.id,10),..._(i)});const c=(0,s.M6)(e,t.slug,i);return c.then((e=>{(0,n.S9)((0,r.t)("Query name saved")),(0,o.ec)({eventKey:"discover_v2.update_query_name_success",eventName:"Discoverv2: Successfully updated a saved query's name",organization_id:parseInt(t.id,10),..._(i)})})).catch((e=>{(0,n.Iw)((0,r.t)("Query name not saved")),(0,o.ec)({eventKey:"discover_v2.update_query_failed",eventName:"Discoverv2: Failed to update a saved query's name",organization_id:parseInt(t.id,10),..._(i),error:e&&e.message||"Failed to update a query name"})})),c}function m(e,t,a){(0,o.ec)({eventKey:"discover_v2.delete_query_request",eventName:"Discoverv2: Request to delete a saved query",organization_id:parseInt(t.id,10),..._(a.toNewQuery())});const i=(0,s.qF)(e,t.slug,a.id);return i.then((()=>{(0,n.S9)((0,r.t)("Query deleted")),(0,o.ec)({eventKey:"discover_v2.delete_query_success",eventName:"Discoverv2: Successfully deleted a saved query",organization_id:parseInt(t.id,10),..._(a.toNewQuery())})})).catch((e=>{(0,n.Iw)((0,r.t)("Query not deleted")),(0,o.ec)({eventKey:"discover_v2.delete_query_failed",eventName:"Discoverv2: Failed to delete a saved query",organization_id:parseInt(t.id,10),..._(a.toNewQuery()),error:e&&e.message||"Failed to delete query"})})),i}function y(e,t){return{eventKey:e?"discover_v2.save_new_query_"+t:"discover_v2.save_existing_query_"+t,eventName:e?l[t]:u[t]}}function _(e){const{projects:t,fields:a,query:s}=e;return{projects:t,fields:a,query:s}}function g(e){switch(e){case i.DC.BAR:return c.FO.BAR;case i.DC.WORLDMAP:return c.FO.WORLD_MAP;case i.DC.TOP5:return c.FO.TOP_N;default:return c.FO.LINE}}}}]);
//# sourceMappingURL=../sourcemaps/app_components_banner_tsx-app_components_sentryDocumentTitle_tsx-app_views_eventsV2_savedQuer-dc87de.6408f9337901ae64b7bd8d2f222cc733.js.map