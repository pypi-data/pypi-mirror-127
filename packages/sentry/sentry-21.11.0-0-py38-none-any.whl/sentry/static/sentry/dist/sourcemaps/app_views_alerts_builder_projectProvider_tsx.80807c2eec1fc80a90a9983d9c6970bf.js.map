{"version":3,"file":"chunks/app_views_alerts_builder_projectProvider_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"slBAsBA,SAASA,EAA4BC,GACnC,MAAMC,GAAMC,EAAAA,EAAAA,MAEN,SAACC,EAAD,OAAWC,EAAX,aAAmBC,KAAiBC,GAASN,GAC7C,UAACO,GAAaH,EAEpB,OACE,QAAC,IAAD,CAAUI,MAAOH,EAAaI,KAAMC,aAAW,EAA/C,SACG,EAAEC,SAAAA,EAAUC,gBAAAA,EAAiBC,aAAAA,MAC5B,IAAKD,EACH,OAAO,QAAC,IAAD,IAET,MAAME,EAAWH,EAAuBI,MAAK,EAAEN,KAAAA,KAAUA,IAASF,IAElE,OAAIM,IAAiBC,GAEjB,QAAC,IAAD,CAAOE,KAAK,UAAZ,UACGC,EAAAA,EAAAA,GAAE,uDAKTC,EAAAA,EAAAA,IAAgBjB,EAAKI,EAAaI,KAAM,CAACK,EAAQK,MAG/C,QAAC,IAAD,CAAaC,SAAUpB,EAAMoB,SAAUC,QAAS,KAAM,EAAtD,SACGlB,GAAYmB,EAAAA,eAAqBnB,GAC9BmB,EAAAA,aAAmBnB,EAAU,IACxBG,KACAH,EAASH,MACZc,QAAAA,EACAT,aAAAA,IAEFF,QAjCPJ,EAAAA,YAAAA,8BAyCT","sources":["webpack:///./app/views/alerts/builder/projectProvider.tsx"],"sourcesContent":["import * as React from 'react';\nimport {RouteComponentProps} from 'react-router';\n\nimport {fetchOrgMembers} from 'app/actionCreators/members';\nimport Alert from 'app/components/alert';\nimport LoadingIndicator from 'app/components/loadingIndicator';\nimport {t} from 'app/locale';\nimport {Organization, Project} from 'app/types';\nimport Projects from 'app/utils/projects';\nimport useApi from 'app/utils/useApi';\nimport ScrollToTop from 'app/views/settings/components/scrollToTop';\n\ntype Props = RouteComponentProps<RouteParams, {}> & {\n  organization: Organization;\n  children?: React.ReactNode;\n  hasMetricAlerts: boolean;\n};\n\ntype RouteParams = {\n  projectId: string;\n};\n\nfunction AlertBuilderProjectProvider(props: Props) {\n  const api = useApi();\n\n  const {children, params, organization, ...other} = props;\n  const {projectId} = params;\n\n  return (\n    <Projects orgId={organization.slug} allProjects>\n      {({projects, initiallyLoaded, isIncomplete}) => {\n        if (!initiallyLoaded) {\n          return <LoadingIndicator />;\n        }\n        const project = (projects as Project[]).find(({slug}) => slug === projectId);\n        // if loaded, but project fetching states incomplete or project can't be found, project doesn't exist\n        if (isIncomplete || !project) {\n          return (\n            <Alert type=\"warning\">\n              {t('The project you were looking for was not found.')}\n            </Alert>\n          );\n        }\n        // fetch members list for mail action fields\n        fetchOrgMembers(api, organization.slug, [project.id]);\n\n        return (\n          <ScrollToTop location={props.location} disable={() => false}>\n            {children && React.isValidElement(children)\n              ? React.cloneElement(children, {\n                  ...other,\n                  ...children.props,\n                  project,\n                  organization,\n                })\n              : children}\n          </ScrollToTop>\n        );\n      }}\n    </Projects>\n  );\n}\n\nexport default AlertBuilderProjectProvider;\n"],"names":["AlertBuilderProjectProvider","props","api","useApi","children","params","organization","other","projectId","orgId","slug","allProjects","projects","initiallyLoaded","isIncomplete","project","find","type","t","fetchOrgMembers","id","location","disable","React"],"sourceRoot":""}