[metadata]
name = dyce
version = attr:dyce.version.__vers_str__
url = https://posita.github.io/dyce/0.4/
author = Matt Bogosian
author_email = matt@bogosian.net
project_urls = 
	Source Repository = https://github.com/posita/dyce/
classifiers = 
	Topic :: Education
	Topic :: Games/Entertainment
	Topic :: Scientific/Engineering :: Mathematics
	Topic :: Software Development :: Libraries :: Python Modules
	Typing :: Typed
	Development Status :: 4 - Beta
	Intended Audience :: Developers
	Intended Audience :: Education
	Intended Audience :: Science/Research
	License :: OSI Approved :: MIT License
	Operating System :: OS Independent
	Programming Language :: Python
	Programming Language :: Python :: 3.7
	Programming Language :: Python :: 3.8
	Programming Language :: Python :: 3.9
	Programming Language :: Python :: 3.10
	Programming Language :: Python :: Implementation :: CPython
	Programming Language :: Python :: Implementation :: PyPy
license = MIT License
license_files = LICENSE
description = Simple Python tools for exploring dice outcomes and other finite discrete probabilities
long_description = file: README.md
long_description_content_type = text/markdown; charset=UTF-8

[options]
packages = dyce
include_package_data = True
python_requires = >=3.7
install_requires = 
	numerary
setup_requires = 
	numerary

[options.extras_require]
dev = 
	beartype>=0.8,!=0.9.0
	pre-commit
	sympy  # for testing
	tox

[tox:tox]
envlist = check, py39-lint{,-beartype}, py39{,-beartype-matplotlib}, py{37,38,310,py3}-beartype
skipsdist = true
skip_missing_interpreters = true

[gh-actions]
python = 
	3.7: py37-beartype
	3.8: py38-beartype
	3.9: check, py39-lint{,-beartype}, py39{,-beartype-matplotlib}
	3.10: py310-beartype
	pypy-3.7: pypy3-beartype

[testenv]
commands = 
	pytest --cov=dyce {posargs}
deps = 
	--editable .
	beartype: beartype>=0.8,!=0.9.0
	matplotlib: matplotlib
	!pypy3-!pypy37: numpy
	pytest-cov
	pytest-gitignore
	sympy
passenv = 
	PYTHONBREAKPOINT
setenv = 
	PYTHONWARNINGS = {env:PYTHONWARNINGS:ignore}

[testenv:check]
commands = 
	rm -frv site
	make -C docs/img -j {env:NUMBER_OF_PROCESSORS:1}
	mkdocs build --strict
	python -c 'from setuptools import setup ; setup()' bdist_wheel
	twine check dist/*
deps = 
	--editable .
	graphviz
	matplotlib
	mike
	mkdocs!=1.2
	mkdocs-exclude
	mkdocs-material
	mkdocstrings
	sympy
	twine
	pygraphviz
	pylint
whitelist_externals = 
	git
	make
	rm

[testenv:py{37,38,39,310}-lint{,-beartype}]
commands = 
	pre-commit run --all-files --show-diff-on-failure
	beartype: mypy --config-file={toxinidir}/pyproject.toml --warn-unused-ignores .
	!beartype: mypy --config-file={toxinidir}/pyproject.toml .
	{toxinidir}/helpers/mypy-doctests.py -a=--config-file={toxinidir}/pyproject.toml .
deps = 
	--editable .
	beartype: beartype>=0.8,!=0.9.0
	mypy
	pre-commit
	sympy

[flake8]
ignore = 
	E501,  # line too long (... > ... characters)
	W503,  # line break occurred before a binary operator

[egg_info]
tag_build = 
tag_date = 0

